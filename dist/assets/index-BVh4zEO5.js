(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function K0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $d={exports:{}},Al={};var sv;function vS(){if(sv)return Al;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var av;function ES(){return av||(av=1,$d.exports=vS()),$d.exports}var E=ES(),Jd={exports:{}},Ae={};var ov;function bS(){if(ov)return Ae;ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=I&&T[I]||T["@@iterator"],typeof T=="function"?T:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,F={};function $(T,M,X){this.props=T,this.context=M,this.refs=F,this.updater=X||K}$.prototype.isReactComponent={},$.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},$.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function re(){}re.prototype=$.prototype;function ae(T,M,X){this.props=T,this.context=M,this.refs=F,this.updater=X||K}var Te=ae.prototype=new re;Te.constructor=ae,Z(Te,$.prototype),Te.isPureReactComponent=!0;var Ce=Array.isArray;function Se(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(T,M,X){var ee=X.ref;return{$$typeof:r,type:T,key:M,ref:ee!==void 0?ee:null,props:X}}function k(T,M){return C(T.type,M,T.props)}function O(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function L(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return M[X]})}var N=/\/+/g;function Ke(T,M){return typeof T=="object"&&T!==null&&T.key!=null?L(""+T.key):M.toString(36)}function at(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Se,Se):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Y(T,M,X,ee,le){var ue=typeof T;(ue==="undefined"||ue==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(ue){case"bigint":case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case r:case e:de=!0;break;case b:return de=T._init,Y(de(T._payload),M,X,ee,le)}}if(de)return le=le(T),de=ee===""?"."+Ke(T,0):ee,Ce(le)?(X="",de!=null&&(X=de.replace(N,"$&/")+"/"),Y(le,M,X,"",function(ce){return ce})):le!=null&&(O(le)&&(le=k(le,X+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(N,"$&/")+"/")+de)),M.push(le)),1;de=0;var Ge=ee===""?".":ee+":";if(Ce(T))for(var De=0;De<T.length;De++)ee=T[De],ue=Ge+Ke(ee,De),de+=Y(ee,M,X,ue,le);else if(De=U(T),typeof De=="function")for(T=De.call(T),De=0;!(ee=T.next()).done;)ee=ee.value,ue=Ge+Ke(ee,De++),de+=Y(ee,M,X,ue,le);else if(ue==="object"){if(typeof T.then=="function")return Y(at(T),M,X,ee,le);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return de}function se(T,M,X){if(T==null)return T;var ee=[],le=0;return Y(T,ee,"","",function(ue){return M.call(X,ue,le++)}),ee}function ge(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var Me=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Fe={map:se,forEach:function(T,M,X){se(T,function(){M.apply(this,arguments)},X)},count:function(T){var M=0;return se(T,function(){M++}),M},toArray:function(T){return se(T,function(M){return M})||[]},only:function(T){if(!O(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ae.Activity=w,Ae.Children=Fe,Ae.Component=$,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ae,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(T){return R.H.useMemoCache(T)}},Ae.cache=function(T){return function(){return T.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(T,M,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=Z({},T.props),le=T.key;if(M!=null)for(ue in M.key!==void 0&&(le=""+M.key),M)!x.call(M,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&M.ref===void 0||(ee[ue]=M[ue]);var ue=arguments.length-2;if(ue===1)ee.children=X;else if(1<ue){for(var de=Array(ue),Ge=0;Ge<ue;Ge++)de[Ge]=arguments[Ge+2];ee.children=de}return C(T.type,le,ee)},Ae.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ae.createElement=function(T,M,X){var ee,le={},ue=null;if(M!=null)for(ee in M.key!==void 0&&(ue=""+M.key),M)x.call(M,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=M[ee]);var de=arguments.length-2;if(de===1)le.children=X;else if(1<de){for(var Ge=Array(de),De=0;De<de;De++)Ge[De]=arguments[De+2];le.children=Ge}if(T&&T.defaultProps)for(ee in de=T.defaultProps,de)le[ee]===void 0&&(le[ee]=de[ee]);return C(T,ue,le)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(T){return{$$typeof:m,render:T}},Ae.isValidElement=O,Ae.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:ge}},Ae.memo=function(T,M){return{$$typeof:y,type:T,compare:M===void 0?null:M}},Ae.startTransition=function(T){var M=R.T,X={};R.T=X;try{var ee=T(),le=R.S;le!==null&&le(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Se,Me)}catch(ue){Me(ue)}finally{M!==null&&X.types!==null&&(M.types=X.types),R.T=M}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(T){return R.H.use(T)},Ae.useActionState=function(T,M,X){return R.H.useActionState(T,M,X)},Ae.useCallback=function(T,M){return R.H.useCallback(T,M)},Ae.useContext=function(T){return R.H.useContext(T)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(T,M){return R.H.useDeferredValue(T,M)},Ae.useEffect=function(T,M){return R.H.useEffect(T,M)},Ae.useEffectEvent=function(T){return R.H.useEffectEvent(T)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(T,M,X){return R.H.useImperativeHandle(T,M,X)},Ae.useInsertionEffect=function(T,M){return R.H.useInsertionEffect(T,M)},Ae.useLayoutEffect=function(T,M){return R.H.useLayoutEffect(T,M)},Ae.useMemo=function(T,M){return R.H.useMemo(T,M)},Ae.useOptimistic=function(T,M){return R.H.useOptimistic(T,M)},Ae.useReducer=function(T,M,X){return R.H.useReducer(T,M,X)},Ae.useRef=function(T){return R.H.useRef(T)},Ae.useState=function(T){return R.H.useState(T)},Ae.useSyncExternalStore=function(T,M,X){return R.H.useSyncExternalStore(T,M,X)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.0",Ae}var lv;function Ym(){return lv||(lv=1,Jd.exports=bS()),Jd.exports}var Ve=Ym();const TS=K0(Ve);var Zd={exports:{}},xl={},Wd={exports:{}},em={};var uv;function SS(){return uv||(uv=1,(function(r){function e(Y,se){var ge=Y.length;Y.push(se);e:for(;0<ge;){var Me=ge-1>>>1,Fe=Y[Me];if(0<o(Fe,se))Y[Me]=se,Y[ge]=Fe,ge=Me;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],ge=Y.pop();if(ge!==se){Y[0]=ge;e:for(var Me=0,Fe=Y.length,T=Fe>>>1;Me<T;){var M=2*(Me+1)-1,X=Y[M],ee=M+1,le=Y[ee];if(0>o(X,ge))ee<Fe&&0>o(le,X)?(Y[Me]=le,Y[ee]=ge,Me=ee):(Y[Me]=X,Y[M]=ge,Me=M);else if(ee<Fe&&0>o(le,ge))Y[Me]=le,Y[ee]=ge,Me=ee;else break e}}return se}function o(Y,se){var ge=Y.sortIndex-se.sortIndex;return ge!==0?ge:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,w=null,I=3,U=!1,K=!1,Z=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Te(Y){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Y)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function Ce(Y){if(Z=!1,Te(Y),!K)if(n(g)!==null)K=!0,Se||(Se=!0,L());else{var se=n(y);se!==null&&at(Ce,se.startTime-Y)}}var Se=!1,R=-1,x=5,C=-1;function k(){return F?!0:!(r.unstable_now()-C<x)}function O(){if(F=!1,Se){var Y=r.unstable_now();C=Y;var se=!0;try{e:{K=!1,Z&&(Z=!1,re(R),R=-1),U=!0;var ge=I;try{t:{for(Te(Y),w=n(g);w!==null&&!(w.expirationTime>Y&&k());){var Me=w.callback;if(typeof Me=="function"){w.callback=null,I=w.priorityLevel;var Fe=Me(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof Fe=="function"){w.callback=Fe,Te(Y),se=!0;break t}w===n(g)&&s(g),Te(Y)}else s(g);w=n(g)}if(w!==null)se=!0;else{var T=n(y);T!==null&&at(Ce,T.startTime-Y),se=!1}}break e}finally{w=null,I=ge,U=!1}se=void 0}}finally{se?L():Se=!1}}}var L;if(typeof ae=="function")L=function(){ae(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ke=N.port2;N.port1.onmessage=O,L=function(){Ke.postMessage(null)}}else L=function(){$(O,0)};function at(Y,se){R=$(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(Y){switch(I){case 1:case 2:case 3:var se=3;break;default:se=I}var ge=I;I=se;try{return Y()}finally{I=ge}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=I;I=Y;try{return se()}finally{I=ge}},r.unstable_scheduleCallback=function(Y,se,ge){var Me=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Me+ge:Me):ge=Me,Y){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ge+Fe,Y={id:b++,callback:se,priorityLevel:Y,startTime:ge,expirationTime:Fe,sortIndex:-1},ge>Me?(Y.sortIndex=ge,e(y,Y),n(g)===null&&Y===n(y)&&(Z?(re(R),R=-1):Z=!0,at(Ce,ge-Me))):(Y.sortIndex=Fe,e(g,Y),K||U||(K=!0,Se||(Se=!0,L()))),Y},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Y){var se=I;return function(){var ge=I;I=se;try{return Y.apply(this,arguments)}finally{I=ge}}}})(em)),em}var cv;function wS(){return cv||(cv=1,Wd.exports=SS()),Wd.exports}var tm={exports:{}},Zt={};var hv;function AS(){if(hv)return Zt;hv=1;var r=Ym();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Zt.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,w=m(b,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:U}):b==="script"&&s.d.X(g,{crossOrigin:w,integrity:I,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var fv;function xS(){if(fv)return tm.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=AS(),tm.exports}var dv;function RS(){if(dv)return xl;dv=1;var r=wS(),e=Ym(),n=xS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case F:return"StrictMode";case Ce:return"Suspense";case Se:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ae:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case Te:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var at=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function T(t){return{current:t}}function M(t){0>Fe||(t.current=Me[Fe],Me[Fe]=null,Fe--)}function X(t,i){Fe++,Me[Fe]=t.current,t.current=i}var ee=T(null),le=T(null),ue=T(null),de=T(null);function Ge(t,i){switch(X(ue,i),X(le,t),X(ee,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?C_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=C_(i),t=I_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}M(ee),X(ee,t)}function De(){M(ee),M(le),M(ue)}function ce(t){t.memoizedState!==null&&X(de,t);var i=ee.current,a=I_(i,t.type);i!==a&&(X(le,t),X(ee,a))}function Jt(t){le.current===t&&(M(ee),M(le)),de.current===t&&(M(de),bl._currentValue=ge)}var rn,Hn;function si(t){if(rn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rn=i&&i[1]||"",Hn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+t+Hn}var bo=!1;function gs(t,i){if(!t||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){q=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function To(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return gs(t.type,!1);case 11:return gs(t.type.render,!1);case 1:return gs(t.type,!0);case 31:return si("Activity");default:return""}}function So(t){try{var i="",a=null;do i+=To(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,mu=r.unstable_requestPaint,sn=r.unstable_now,ys=r.unstable_getCurrentPriorityLevel,wo=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,pu=r.unstable_IdlePriority,gu=r.log,yu=r.unstable_setDisableYieldValue,Fn=null,qt=null;function Rn(t){if(typeof gu=="function"&&yu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Fn,t)}catch{}}var yt=Math.clz32?Math.clz32:vu,_u=Math.log,aa=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(_u(t)/aa|0)|0}var ai=256,_s=262144,St=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=oi(l):(_&=S,_!==0?h=oi(_):a||(a=S&~t,a!==0&&(h=oi(a))))):(S=l&~d,S!==0?h=oi(S):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ef(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-yt(a),W=1<<Q;S[Q]=0,D[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&Es(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Es(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ro(t,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(t.suspendedLanes|i))!==0?0:a}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Z_(t.type))}function Yn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Qn,Ut="__reactProps$"+Qn,ci="__reactContainer$"+Qn,oa="__reactEvents$"+Qn,tf="__reactListeners$"+Qn,Tu="__reactHandles$"+Qn,Su="__reactResources$"+Qn,hi="__reactMarker$"+Qn;function la(t){delete t[wt],delete t[Ut],delete t[oa],delete t[tf],delete t[Tu]}function fi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[wt])return a;t=P_(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[wt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[hi]=!0}var Co=new Set,Io={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Io[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function wu(t){return Tt.call(Oo,t)?!0:Tt.call(Do,t)?!1:No.test(t)?Oo[t]=!0:(Do[t]=!0,!1)}function ua(t,i,a){if(wu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ze(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=Mo(t,i,""+t[i])}}function Ts(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function ln(t){return t.replace(Ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Vo(t,_,jt(i)):a!=null?Vo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+jt(S):t.removeAttribute("name")}function Au(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ze(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ze(t)}function Vo(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function xu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Po(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ko(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Lo=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,yi=null;function ws(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ts(l)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var da=!1;function Sr(t,i,a){if(da)return t(i,a);da=!0;try{var l=t(i);return l}finally{if(da=!1,(Tr!==null||yi!==null)&&(bc(),Tr&&(i=Tr,t=yi,yi=Tr=null,ws(i),t)))for(i=0;i<t.length;i++)ws(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Nn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){As=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{As=!1}var _i=null,Uo=null,xs=null;function jo(){if(xs)return xs;var t,i=Uo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return xs=h.slice(t,1<l?1-l:void 0)}function Rs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function $n(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:$n,this.isPropagationStopped=$n,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ht(Bi),wr=w({},Bi,{view:0,detail:0}),zo=Ht(wr),Ar,ma,Ei,pa=w({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ar=t.screenX-Ei.screenX,ma=t.screenY-Ei.screenY):ma=Ar=0,Ei=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Bo=Ht(pa),Cs=w({},pa,{dataTransfer:0}),Iu=Ht(Cs),Nu=w({},wr,{relatedTarget:0}),Is=Ht(Nu),qo=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Ht(qo),ga=w({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=Ht(ga),Mu=w({},Bi,{data:0}),bi=Ht(Mu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function xr(){return Lu}var an=w({},wr,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Ht(an),ju=w({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ht(ju),c=w({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),p=Ht(c),v=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(v),j=w({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ht(j),oe=w({},Bi,{newState:0,oldState:0}),Ie=Ht(oe),_t=[9,13,27,32],Xe=Nn&&"CompositionEvent"in window,ht=null;Nn&&"documentMode"in document&&(ht=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ht,Ti=Nn&&(!Xe||ht&&8<ht&&11>=ht),Jn=" ",Zn=!1;function Ns(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function HT(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function FT(t,i){if(_a)return t==="compositionend"||!Xe&&Ns(t,i)?(t=jo(),xs=Uo=_i=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!GT[t.type]:i==="textarea"}function zp(t,i,a,l){Tr?yi?yi.push(l):yi=[l]:Tr=l,i=Cc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ho=null,Fo=null;function YT(t){T_(t,0)}function zu(t){var i=_n(t);if(Ts(i))return t}function Bp(t,i){if(t==="change")return i}var qp=!1;if(Nn){var nf;if(Nn){var rf="oninput"in document;if(!rf){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),rf=typeof Hp.oninput=="function"}nf=rf}else nf=!1;qp=nf&&(!document.documentMode||9<document.documentMode)}function Fp(){Ho&&(Ho.detachEvent("onpropertychange",Gp),Fo=Ho=null)}function Gp(t){if(t.propertyName==="value"&&zu(Fo)){var i=[];zp(i,Fo,t,In(t)),Sr(YT,i)}}function QT(t,i,a){t==="focusin"?(Fp(),Ho=i,Fo=a,Ho.attachEvent("onpropertychange",Gp)):t==="focusout"&&Fp()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(Fo)}function XT(t,i){if(t==="click")return zu(i)}function $T(t,i){if(t==="input"||t==="change")return zu(i)}function JT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:JT;function Go(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,i){var a=Yp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZT=Nn&&"documentMode"in document&&11>=document.documentMode,va=null,af=null,Yo=null,of=!1;function $p(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||va==null||va!==gi(l)||(l=va,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Go(Yo,l)||(Yo=l,l=Cc(af,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=va)))}function Ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},lf={},Jp={};Nn&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Os(t){if(lf[t])return lf[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jp)return lf[t]=i[a];return t}var Zp=Os("animationend"),Wp=Os("animationiteration"),eg=Os("animationstart"),WT=Os("transitionrun"),e1=Os("transitionstart"),t1=Os("transitioncancel"),tg=Os("transitionend"),ng=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function Wn(t,i){ng.set(t,i),mi(i,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],ba=0,cf=0;function qu(){for(var t=ba,i=cf=ba=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ig(a,h,d)}}function Hu(t,i,a,l){On[ba++]=t,On[ba++]=i,On[ba++]=a,On[ba++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,i,a,l){return Hu(t,i,a,l),Fu(t)}function Ms(t,i){return Hu(t,null,null,i),Fu(t)}function ig(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Fu(t){if(50<ml)throw ml=0,Ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={};function n1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new n1(t,i,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")ff(t)&&(_=1);else if(typeof t=="string")_=oS(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=bn(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return Vs(a.children,h,d,i);case F:_=8,h|=24;break;case $:return t=bn(12,a,i,h|2),t.elementType=$,t.lanes=d,t;case Ce:return t=bn(13,a,i,h),t.elementType=Ce,t.lanes=d,t;case Se:return t=bn(19,a,i,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case re:_=9;break e;case Te:_=11;break e;case R:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Vs(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function df(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function sg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function mf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ag=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:So(i)},ag.set(t,i),i)}return{value:t,source:i,stack:So(i)}}var Sa=[],wa=0,Yu=null,Qo=0,Vn=[],kn=0,Rr=null,Si=1,wi="";function Fi(t,i){Sa[wa++]=Qo,Sa[wa++]=Yu,Yu=t,Qo=i}function og(t,i,a){Vn[kn++]=Si,Vn[kn++]=wi,Vn[kn++]=Rr,Rr=t;var l=Si;t=wi;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-yt(i)+h|a<<h|l,wi=d+t}else Si=1<<d|a<<h|l,wi=t}function pf(t){t.return!==null&&(Fi(t,1),og(t,1,0))}function gf(t){for(;t===Yu;)Yu=Sa[--wa],Sa[wa]=null,Qo=Sa[--wa],Sa[wa]=null;for(;t===Rr;)Rr=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null,Si=Vn[--kn],Vn[kn]=null}function lg(t,i){Vn[kn++]=Si,Vn[kn++]=wi,Vn[kn++]=Rr,Si=i.id,wi=i.overflow,Rr=t}var Ft=null,ot=null,qe=!1,Cr=null,Pn=!1,yf=Error(s(519));function Ir(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Mn(i,t)),yf}function ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Ut]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Pe(gl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Au(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Ir(t,!0)}function cg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ft=Ft.return}}function Aa(t){if(t!==Ft)return!1;if(!qe)return cg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&ot&&Ir(t),cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=k_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=k_(t)}else i===27?(i=ot,Hr(t.type)?(t=zd,zd=null,ot=t):ot=i):ot=Ft?Un(t.stateNode.nextSibling):null;return!0}function ks(){ot=Ft=null,qe=!1}function _f(){var t=Cr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Cr=null),t}function Ko(t){Cr===null?Cr=[t]:Cr.push(t)}var vf=T(null),Ps=null,Gi=null;function Nr(t,i,a){X(vf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=vf.current,M(vf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Ef(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===de.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&bf(i,t,a,l),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){Ps=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return hg(Ps,t)}function Ku(t,i){return Ps===null&&Ls(t),hg(t,i)}function hg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var i1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},r1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,Rt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new i1,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&r1(s1,function(){t.controller.abort()})}var $o=null,Sf=0,Ra=0,Ca=null;function a1(t,i){if($o===null){var a=$o=[];Sf=0,Ra=xd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(fg,fg),i}function fg(){if(--Sf===0&&$o!==null){Ca!==null&&(Ca.status="fulfilled");var t=$o;$o=null,Ra=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function o1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dg=Y.S;Y.S=function(t,i){$y=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&a1(t,i),dg!==null&&dg(t,i)};var Us=T(null);function wf(){var t=Us.current;return t!==null?t:st.pooledCache}function Xu(t,i){i===null?X(Us,Us.current):X(Us,i.pool)}function mg(){var t=wf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Ia=Error(s(460)),Af=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_g(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_g(t),t}throw zs=i,Ia}}function js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zs=a,Ia):a}}var zs=null;function yg(){if(zs===null)throw Error(s(459));var t=zs;return zs=null,t}function _g(t){if(t===Ia||t===$u)throw Error(s(483))}var Na=null,Jo=0;function Zu(t){var i=Jo;return Jo+=1,Na===null&&(Na=[]),gg(Na,t,i)}function Zo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function vg(t){function i(P,V){if(t){var z=P.deletions;z===null?(P.deletions=[V],P.flags|=16):z.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Hi(P,V),P.index=0,P.sibling=null,P}function d(P,V,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<V?(P.flags|=67108866,V):z):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,V,z,J){return V===null||V.tag!==6?(V=df(z,P.mode,J),V.return=P,V):(V=h(V,z),V.return=P,V)}function D(P,V,z,J){var ye=z.type;return ye===Z?Q(P,V,z.props.children,J,z.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&js(ye)===V.type)?(V=h(V,z.props),Zo(V,z),V.return=P,V):(V=Gu(z.type,z.key,z.props,null,P.mode,J),Zo(V,z),V.return=P,V)}function B(P,V,z,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=mf(z,P.mode,J),V.return=P,V):(V=h(V,z.children||[]),V.return=P,V)}function Q(P,V,z,J,ye){return V===null||V.tag!==7?(V=Vs(z,P.mode,J,ye),V.return=P,V):(V=h(V,z),V.return=P,V)}function W(P,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=df(""+V,P.mode,z),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case U:return z=Gu(V.type,V.key,V.props,null,P.mode,z),Zo(z,V),z.return=P,z;case K:return V=mf(V,P.mode,z),V.return=P,V;case x:return V=js(V),W(P,V,z)}if(at(V)||L(V))return V=Vs(V,P.mode,z,null),V.return=P,V;if(typeof V.then=="function")return W(P,Zu(V),z);if(V.$$typeof===ae)return W(P,Ku(P,V),z);Wu(P,V)}return null}function q(P,V,z,J){var ye=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ye!==null?null:S(P,V,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===ye?D(P,V,z,J):null;case K:return z.key===ye?B(P,V,z,J):null;case x:return z=js(z),q(P,V,z,J)}if(at(z)||L(z))return ye!==null?null:Q(P,V,z,J,null);if(typeof z.then=="function")return q(P,V,Zu(z),J);if(z.$$typeof===ae)return q(P,V,Ku(P,z),J);Wu(P,z)}return null}function G(P,V,z,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(z)||null,S(V,P,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return P=P.get(J.key===null?z:J.key)||null,D(V,P,J,ye);case K:return P=P.get(J.key===null?z:J.key)||null,B(V,P,J,ye);case x:return J=js(J),G(P,V,z,J,ye)}if(at(J)||L(J))return P=P.get(z)||null,Q(V,P,J,ye,null);if(typeof J.then=="function")return G(P,V,z,Zu(J),ye);if(J.$$typeof===ae)return G(P,V,z,Ku(V,J),ye);Wu(V,J)}return null}function fe(P,V,z,J){for(var ye=null,Ye=null,me=V,Oe=V=0,Ue=null;me!==null&&Oe<z.length;Oe++){me.index>Oe?(Ue=me,me=null):Ue=me.sibling;var Qe=q(P,me,z[Oe],J);if(Qe===null){me===null&&(me=Ue);break}t&&me&&Qe.alternate===null&&i(P,me),V=d(Qe,V,Oe),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe,me=Ue}if(Oe===z.length)return a(P,me),qe&&Fi(P,Oe),ye;if(me===null){for(;Oe<z.length;Oe++)me=W(P,z[Oe],J),me!==null&&(V=d(me,V,Oe),Ye===null?ye=me:Ye.sibling=me,Ye=me);return qe&&Fi(P,Oe),ye}for(me=l(me);Oe<z.length;Oe++)Ue=G(me,P,Oe,z[Oe],J),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?Oe:Ue.key),V=d(Ue,V,Oe),Ye===null?ye=Ue:Ye.sibling=Ue,Ye=Ue);return t&&me.forEach(function(Kr){return i(P,Kr)}),qe&&Fi(P,Oe),ye}function ve(P,V,z,J){if(z==null)throw Error(s(151));for(var ye=null,Ye=null,me=V,Oe=V=0,Ue=null,Qe=z.next();me!==null&&!Qe.done;Oe++,Qe=z.next()){me.index>Oe?(Ue=me,me=null):Ue=me.sibling;var Kr=q(P,me,Qe.value,J);if(Kr===null){me===null&&(me=Ue);break}t&&me&&Kr.alternate===null&&i(P,me),V=d(Kr,V,Oe),Ye===null?ye=Kr:Ye.sibling=Kr,Ye=Kr,me=Ue}if(Qe.done)return a(P,me),qe&&Fi(P,Oe),ye;if(me===null){for(;!Qe.done;Oe++,Qe=z.next())Qe=W(P,Qe.value,J),Qe!==null&&(V=d(Qe,V,Oe),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return qe&&Fi(P,Oe),ye}for(me=l(me);!Qe.done;Oe++,Qe=z.next())Qe=G(me,P,Oe,Qe.value,J),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Oe:Qe.key),V=d(Qe,V,Oe),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return t&&me.forEach(function(_S){return i(P,_S)}),qe&&Fi(P,Oe),ye}function rt(P,V,z,J){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:e:{for(var ye=z.key;V!==null;){if(V.key===ye){if(ye=z.type,ye===Z){if(V.tag===7){a(P,V.sibling),J=h(V,z.props.children),J.return=P,P=J;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&js(ye)===V.type){a(P,V.sibling),J=h(V,z.props),Zo(J,z),J.return=P,P=J;break e}a(P,V);break}else i(P,V);V=V.sibling}z.type===Z?(J=Vs(z.props.children,P.mode,J,z.key),J.return=P,P=J):(J=Gu(z.type,z.key,z.props,null,P.mode,J),Zo(J,z),J.return=P,P=J)}return _(P);case K:e:{for(ye=z.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(P,V.sibling),J=h(V,z.children||[]),J.return=P,P=J;break e}else{a(P,V);break}else i(P,V);V=V.sibling}J=mf(z,P.mode,J),J.return=P,P=J}return _(P);case x:return z=js(z),rt(P,V,z,J)}if(at(z))return fe(P,V,z,J);if(L(z)){if(ye=L(z),typeof ye!="function")throw Error(s(150));return z=ye.call(z),ve(P,V,z,J)}if(typeof z.then=="function")return rt(P,V,Zu(z),J);if(z.$$typeof===ae)return rt(P,V,Ku(P,z),J);Wu(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(P,V.sibling),J=h(V,z),J.return=P,P=J):(a(P,V),J=df(z,P.mode,J),J.return=P,P=J),_(P)):a(P,V)}return function(P,V,z,J){try{Jo=0;var ye=rt(P,V,z,J);return Na=null,ye}catch(me){if(me===Ia||me===$u)throw me;var Ye=bn(29,me,null,P.mode);return Ye.lanes=J,Ye.return=P,Ye}finally{}}}var Bs=vg(!0),Eg=vg(!1),Dr=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fu(t),ig(t,null,a),i}return Hu(t,l,i,a),Fu(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}function Cf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function el(){if(If){var t=Ca;if(t!==null)throw t}}function tl(t,i,a,l){If=!1;var h=t.updateQueue;Dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=D))}if(d!==null){var W=h.baseState;_=0,Q=B=D=null,S=d;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(Le&q)===q:(l&q)===q){q!==0&&q===Ra&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,ve=S;q=i;var rt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){W=fe.call(rt,W,q);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,q=typeof fe=="function"?fe.call(rt,W,q):fe,q==null)break e;W=w({},W,q);break e;case 2:Dr=!0}}q=S.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=G,D=W):Q=Q.next=G,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(D=W),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ur|=_,t.lanes=_,t.memoizedState=W}}function bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Tg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],i)}var Da=T(null),ec=T(0);function Sg(t,i){t=tr,X(ec,t),X(Da,i),tr=t|i.baseLanes}function Nf(){X(ec,tr),X(Da,Da.current)}function Df(){tr=ec.current,M(Da),M(ec)}var Tn=T(null),Ln=null;function Vr(t){var i=t.alternate;X(vt,vt.current&1),X(Tn,t),Ln===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Ln=t)}function Of(t){X(vt,vt.current),X(Tn,t),Ln===null&&(Ln=t)}function wg(t){t.tag===22?(X(vt,vt.current),X(Tn,t),Ln===null&&(Ln=t)):kr()}function kr(){X(vt,vt.current),X(Tn,Tn.current)}function Sn(t){M(Tn),Ln===t&&(Ln=null),M(vt)}var vt=T(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Ne=null,nt=null,Ct=null,nc=!1,Oa=!1,qs=!1,ic=0,nl=0,Ma=null,l1=0;function pt(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Vf(t,i,a,l,h,d){return Qi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?oy:Xf,qs=!1,d=a(l,h),qs=!1,Oa&&(d=xg(i,a,l,h)),Ag(t),d}function Ag(t){Y.H=sl;var i=nt!==null&&nt.next!==null;if(Qi=0,Ct=nt=Ne=null,nc=!1,nl=0,Ma=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&Qu(t)&&(It=!0))}function xg(t,i,a,l){Ne=t;var h=0;do{if(Oa&&(Ma=null),nl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,Ct=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=ly,d=i(a,l)}while(Oa);return d}function u1(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function kf(){var t=ic!==0;return ic=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}Qi=0,Ct=nt=Ne=null,Oa=!1,nl=ic=0,Ma=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Ct===null?Ne.memoizedState:Ct.next;if(i!==null)Ct=i,nt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ct===null?Ne.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Ma===null&&(Ma=[]),t=gg(Ma,t,i),i=Ne,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?oy:Xf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ae)return Gt(t)}throw Error(s(438,String(t)))}function Uf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=Et();return jf(i,nt,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,D=null,B=i,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Le&W)===W:(Qi&W)===W){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ra&&(Q=!0);else if((Qi&q)===q){B=B.next,q===Ra&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=W,_=d):D=D.next=W,Ne.lanes|=q,Ur|=q;W=B.action,qs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Ne.lanes|=W,Ur|=W;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=S,!En(d,t.memoizedState)&&(It=!0,Q&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Rg(t,i,a){var l=Ne,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((nt||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Hf(Ng.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Ig.bind(null,l,h,a,i),null),st===null)throw Error(s(349));d||(Qi&127)!==0||Cg(l,i,a)}return a}function Cg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=rc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ig(t,i,a,l){i.value=a,i.getSnapshot=l,Dg(i)&&Og(t)}function Ng(t,i,a){return a(function(){Dg(i)&&Og(t)})}function Dg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Og(t){var i=Ms(t,2);i!==null&&mn(i,t,2)}function Bf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),qs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function Mg(t,i,a,l){return t.baseState=a,jf(t,nt,typeof l=="function"?l:Ki)}function c1(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),D=Y.S;D!==null&&D(_,S),kg(t,i,S)}catch(B){qf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),kg(t,i,d)}catch(B){qf(t,i,B)}}function kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(t,i,l)},function(l){return qf(t,i,l)}):Pg(t,i,a)}function Pg(t,i,a){i.status="fulfilled",i.value=a,Lg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Vg(t,a)))}function qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==l)}t.action=null}function Lg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ug(t,i){return i}function jg(t,i){if(qe){var a=st.formState;if(a!==null){e:{var l=Ne;if(qe){if(ot){t:{for(var h=ot,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Un(h.nextSibling),l=h.data==="F!";break e}}Ir(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:i},a.queue=l,a=ry.bind(null,Ne,l),l.dispatch=a,l=Bf(!1),d=Kf.bind(null,Ne,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=c1.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function zg(t){var i=Et();return Bg(i,nt,t)}function Bg(t,i,a){if(i=jf(t,i,Ug)[0],t=ac(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(_){throw _===Ia?$u:_}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Va(9,{destroy:void 0},h1.bind(null,h,a),null)),[l,d,t]}function h1(t,i){t.action=i}function qg(t){var i=Et(),a=nt;if(a!==null)return Bg(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=rc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Hg(){return Et().memoizedState}function oc(t,i,a,l){var h=on();Ne.flags|=t,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function lc(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Mf(l,nt.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(Ne.flags|=t,h.memoizedState=Va(1|i,d,a,l))}function Fg(t,i){oc(8390656,8,t,i)}function Hf(t,i){lc(2048,8,t,i)}function f1(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=rc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Gg(t){var i=Et().memoizedState;return f1({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Yg(t,i){return lc(4,2,t,i)}function Qg(t,i){return lc(4,4,t,i)}function Kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Xg(t,i,a){a=a!=null?a.concat([t]):null,lc(4,4,Kg.bind(null,i,t),a)}function Ff(){}function $g(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Jg(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function Gf(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Zy(),Ne.lanes|=t,Ur|=t,a)}function Zg(t,i,a,l){return En(a,i)?a:Da.current!==null?(t=Gf(t,a,l),En(t,i)||(It=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Le&261930)===0?(It=!0,t.memoizedState=a):(t=Zy(),Ne.lanes|=t,Ur|=t,i)}function Wg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,Kf(t,!1,i,a);try{var D=h(),B=Y.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=o1(D,l);rl(t,i,Q,xn(t))}else rl(t,i,l,xn(t))}catch(W){rl(t,i,{then:function(){},status:"rejected",reason:W},xn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function d1(){}function Yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ey(t).queue;Wg(t,h,i,ge,a===null?d1:function(){return ty(t),a(l)})}function ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ty(t){var i=ey(t);i.next===null&&(i=t.alternate.memoizedState),rl(t,i.next.queue,{},xn())}function Qf(){return Gt(bl)}function ny(){return Et().memoizedState}function iy(){return Et().memoizedState}function m1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Or(a);var l=Mr(i,t,a);l!==null&&(mn(l,i,a),Wo(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function p1(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?sy(i,a):(a=hf(t,i,a,l),a!==null&&(mn(a,t,l),ay(a,i,l)))}function ry(t,i,a){var l=xn();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))sy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,En(S,_))return Hu(t,i,h,0),st===null&&qu(),!1}catch{}finally{}if(a=hf(t,i,h,l),a!==null)return mn(a,t,l),ay(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=hf(t,a,l,2),i!==null&&mn(i,t,2)}function uc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function sy(t,i){Oa=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}var sl={readContext:Gt,use:sc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};sl.useEffectEvent=pt;var oy={readContext:Gt,use:sc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Fg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,Kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(qs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=p1.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Bf(t);var i=t.queue,a=ry.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=on();return Gf(a,t,i)},useTransition:function(){var t=Bf(!1);return t=Wg.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=on();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(Le&127)!==0||Cg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Fg(Ng.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},Ig.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=st.identifierPrefix;if(qe){var a=wi,l=Si;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=l1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Qf,useFormState:jg,useActionState:jg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Uf,useCacheRefresh:function(){return on().memoizedState=m1.bind(null,Ne)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:Gt,use:sc,useCallback:$g,useContext:Gt,useEffect:Hf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Jg,useReducer:ac,useRef:Hg,useState:function(){return ac(Ki)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Et();return Zg(a,nt.memoizedState,t,i)},useTransition:function(){var t=ac(Ki)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:Qf,useFormState:zg,useActionState:zg,useOptimistic:function(t,i){var a=Et();return Mg(a,nt,t,i)},useMemoCache:Uf,useCacheRefresh:iy};Xf.useEffectEvent=Gg;var ly={readContext:Gt,use:sc,useCallback:$g,useContext:Gt,useEffect:Hf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Jg,useReducer:zf,useRef:Hg,useState:function(){return zf(Ki)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Et();return nt===null?Gf(a,t,i):Zg(a,nt.memoizedState,t,i)},useTransition:function(){var t=zf(Ki)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:Qf,useFormState:qg,useActionState:qg,useOptimistic:function(t,i){var a=Et();return nt!==null?Mg(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:iy};ly.useEffectEvent=Gg;function $f(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(mn(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(mn(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(mn(i,t,a),Wo(i,t,a))}};function uy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){Bu(t)}function fy(t){console.error(t)}function dy(t){Bu(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function my(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function py(t){return t=Or(t),t.tag=3,t}function gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){my(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){my(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function g1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Tc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),Tc(),!1}if(qe)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(t=Error(s(422),{cause:l}),Ko(Mn(t,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),Ko(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=Zf(t.stateNode,l,h),Cf(t,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),dl===null?dl=[d]:dl.push(d),gt!==4&&(gt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),It=!1;function Yt(t,i,a,l){i.child=t===null?Eg(i,null,a,l):Bs(i,t.child,a,l)}function yy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ls(i),l=Vf(t,i,a,_,d,h),S=kf(),t!==null&&!It?(Pf(t,i,h),Xi(t,i,h)):(qe&&S&&pf(i),i.flags|=1,Yt(t,i,l,h),i.child)}function _y(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,vy(t,i,d,l,h)):(t=Gu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!od(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Hi(d,l),t.ref=i.ref,t.return=i,i.child=t}function vy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return ed(t,i,a,l,h)}function Ey(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return by(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Sg(i,d):Nf(),wg(i);else return l=i.lanes=536870912,by(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Xu(i,d.cachePool),Sg(i,d),kr(),i.memoizedState=null):(t!==null&&Xu(i,null),Nf(),kr());return Yt(t,i,h,a),i.child}function al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function by(t,i,a,l,h){var d=wf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Xu(i,null),Nf(),wg(i),t!==null&&xa(t,i,l,!0),i.childLanes=h,null}function hc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ty(t,i,a){return Bs(i,t.child,null,a),t=hc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function y1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=hc(i,l),i.lanes=536870912,al(null,t);if(Of(i),(t=ot)?(t=V_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=sg(t),a.return=i,i.child=a,Ft=i,ot=null)):t=null,t===null)throw Ir(i);return i.lanes=536870912,null}return hc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Of(i),h)if(i.flags&256)i.flags&=-257,i=Ty(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||xa(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=st,l!==null&&(_=Ro(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ms(t,_),mn(l,t,_),Wf;Tc(),i=Ty(t,i,a)}else t=d.treeContext,ot=Un(_.nextSibling),Ft=i,qe=!0,Cr=null,Pn=!1,t!==null&&lg(i,t),i=hc(i,l),i.flags|=4096;return i}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ed(t,i,a,l,h){return Ls(i),a=Vf(t,i,a,l,void 0,h),l=kf(),t!==null&&!It?(Pf(t,i,h),Xi(t,i,h)):(qe&&l&&pf(i),i.flags|=1,Yt(t,i,a,h),i.child)}function Sy(t,i,a,l,h,d){return Ls(i),i.updateQueue=null,a=xg(i,l,a,h),Ag(t),l=kf(),t!==null&&!It?(Pf(t,i,d),Xi(t,i,d)):(qe&&l&&pf(i),i.flags|=1,Yt(t,i,a,d),i.child)}function wy(t,i,a,l,h){if(Ls(i),i.stateNode===null){var d=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ta,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&($f(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Jf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=Hs(a,S);d.props=D;var B=d.context,Q=a.contextType;_=Ta,typeof Q=="object"&&Q!==null&&(_=Gt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&cy(i,d,l,_),Dr=!1;var q=i.memoizedState;d.state=q,tl(i,l,d,h),el(),B=i.memoizedState,S||q!==B||Dr?(typeof W=="function"&&($f(i,a,W,l),B=i.memoizedState),(D=Dr||uy(i,a,D,l,q,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),_=i.memoizedProps,Q=Hs(a,_),d.props=Q,W=i.pendingProps,q=d.context,B=a.contextType,D=Ta,typeof B=="object"&&B!==null&&(D=Gt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==D)&&cy(i,d,l,D),Dr=!1,q=i.memoizedState,d.state=q,tl(i,l,d,h),el();var G=i.memoizedState;_!==W||q!==G||Dr||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof S=="function"&&($f(i,a,S,l),G=i.memoizedState),(Q=Dr||uy(i,a,Q,l,q,G,D)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=D,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Bs(i,t.child,null,h),i.child=Bs(i,null,a,h)):Yt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function Ay(t,i,a,l){return ks(),i.flags|=256,Yt(t,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:mg()}}function id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Vr(i):kr(),(t=ot)?(t=V_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=sg(t),a.return=i,i.child=a,Ft=i,ot=null)):t=null,t===null)throw Ir(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(kr(),h=i.mode,S=dc({mode:"hidden",children:S},h),l=Vs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,_,a),i.memoizedState=td,al(null,l)):(Vr(i),rd(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=sd(t,i,a)):i.memoizedState!==null?(kr(),i.child=t.child,i.flags|=128,i=null):(kr(),S=l.fallback,h=i.mode,l=dc({mode:"visible",children:l.children},h),S=Vs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Bs(i,t.child,null,a),l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,_,a),i.memoizedState=td,i=al(null,l));else if(Vr(i),jd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Ko({value:l,source:null,stack:null}),i=sd(t,i,a)}else if(It||xa(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=st,_!==null&&(l=Ro(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ms(t,l),mn(_,t,l),Wf;Ud(S)||Tc(),i=sd(t,i,a)}else Ud(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ot=Un(S.nextSibling),Ft=i,qe=!0,Cr=null,Pn=!1,t!==null&&lg(i,t),i=rd(i,l.children),i.flags|=4096);return i}return h?(kr(),S=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=Hi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=Hi(B,S):(S=Vs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,al(null,l),l=i.child,S=t.child.memoizedState,S===null?S=nd(a):(h=S.cachePool,h!==null?(D=Rt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=mg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=id(t,_,a),i.memoizedState=td,al(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function sd(t,i,a){return Bs(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ry(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function ad(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Cy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,X(vt,_),Yt(t,i,l,a),l=qe?Qo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,i);else if(t.tag===19)Ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(i,!0,a,null,d,l);break;case"together":ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function _1(t,i,a){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),Nr(i,Rt,t.memoizedState.cache),ks();break;case 27:case 5:ce(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(Vr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Cy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(vt,vt.current),l)break;return null;case 22:return i.lanes=0,Ey(t,i,a,i.pendingProps);case 24:Nr(i,Rt,t.memoizedState.cache)}return Xi(t,i,a)}function Iy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!od(t,a)&&(i.flags&128)===0)return It=!1,_1(t,i,a);It=(t.flags&131072)!==0}else It=!1,qe&&(i.flags&1048576)!==0&&og(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=js(i.elementType),i.type=t,typeof t=="function")ff(t)?(l=Hs(t,l),i.tag=1,i=wy(null,i,t,l,a)):(i.tag=0,i=ed(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Te){i.tag=11,i=yy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=_y(null,i,t,l,a);break e}}throw i=Ke(t)||t,Error(s(306,i,""))}}return i;case 0:return ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),wy(t,i,l,h,a);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Nr(i,Rt,l),l!==d.cache&&bf(i,[Rt],a,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ay(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),Ko(h),i=Ay(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Un(t.firstChild),Ft=i,qe=!0,Cr=null,Pn=!0,a=Eg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),l===h){i=Xi(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Ic(ue.current).createElement(a),l[wt]=i,l[Ut]=t,Qt(l,a,t),At(l),i.stateNode=l):i.memoizedState=z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ce(i),t===null&&qe&&(l=i.stateNode=L_(i.type,i.pendingProps,ue.current),Ft=i,Pn=!0,h=ot,Hr(i.type)?(zd=h,ot=Un(l.firstChild)):ot=h),Yt(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ot)&&(l=K1(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ft=i,ot=Un(l.firstChild),Pn=!1,h=!0):h=!1),h||Ir(i)),ce(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,u1,null,null,a),bl._currentValue=h),fc(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ot)&&(a=X1(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ft=i,ot=null,t=!0):t=!1),t||Ir(i)),null;case 13:return xy(t,i,a);case 4:return Ge(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Bs(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return yy(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ls(i),h=Gt(h),l=l(h),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return _y(t,i,i.type,i.pendingProps,a);case 15:return vy(t,i,i.type,i.pendingProps,a);case 19:return Cy(t,i,a);case 31:return y1(t,i,a);case 22:return Ey(t,i,a,i.pendingProps);case 24:return Ls(i),l=Gt(Rt),t===null?(h=wf(),h===null&&(h=st,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),Nr(i,Rt,h)):((t.lanes&a)!==0&&(Rf(t,i),tl(i,null,null,a),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,Rt,l)):(l=d.cache,Nr(i,Rt,l),l!==h.cache&&bf(i,[Rt],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(t){t.flags|=4}function ld(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n_())t.flags|=8192;else throw zs=Ju,Af}else t.flags&=-16777217}function Ny(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G_(i))if(n_())t.flags|=8192;else throw zs=Ju,Af}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,Ua|=i)}function ol(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function v1(t,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Rt),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_f())),lt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?($i(i),d!==null?(lt(i),Ny(i,d)):(lt(i),ld(i,h,null,l,a))):d?d!==t.memoizedState?($i(i),lt(i),Ny(i,d)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(i),lt(i),ld(i,h,t,l,a)),null;case 27:if(Jt(i),a=ue.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ee.current,Aa(i)?ug(i):(t=L_(h,l,a),i.stateNode=t,$i(i))}return lt(i),null;case 5:if(Jt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(d=ee.current,Aa(i))ug(i);else{var _=Ic(ue.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[wt]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(i)}}return lt(i),ld(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ue.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Ir(i,!0)}else t=Ic(t).createTextNode(l),t[wt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),lt(i),null);case 4:return De(),t===null&&Nd(i.stateNode.containerInfo),lt(i),null;case 10:return Yi(i.type),lt(i),null;case 19:if(M(vt),l=i.memoizedState,l===null)return lt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ol(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,ol(l,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)rg(a,t),a=a.sibling;return X(vt,vt.current&1|2),qe&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>vc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(t=tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return lt(i),null}else 2*sn()-l.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=vt.current,X(vt,h?a&1|2:a&1),qe&&Fi(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return Sn(i),Df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&M(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Rt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function E1(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Rt),De(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Jt(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return M(vt),null;case 4:return De(),null;case 10:return Yi(i.type),null;case 22:case 23:return Sn(i),Df(),t!==null&&M(Us),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Rt),null;case 25:return null;default:return null}}function Dy(t,i){switch(gf(i),i.tag){case 3:Yi(Rt),De();break;case 26:case 27:case 5:Jt(i);break;case 4:De();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:M(vt);break;case 10:Yi(i.type);break;case 22:case 23:Sn(i),Df(),t!==null&&M(Us);break;case 24:Yi(Rt)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){et(i,i.return,S)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=a,B=S;try{B()}catch(Q){et(h,D,Q)}}}l=l.next}while(l!==d)}}catch(Q){et(i,i.return,Q)}}function Oy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Tg(i,a)}catch(l){et(t,t.return,l)}}}function My(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function Vy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function ud(t,i,a){try{var l=t.stateNode;q1(l,t.type,a,i),l[Ut]=i}catch(h){et(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(hd(t,i,a),t=t.sibling;t!==null;)hd(t,i,a),t=t.sibling}function pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[wt]=t,i[Ut]=a}catch(d){et(t,t.return,d)}}var Ji=!1,Nt=!1,fd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,zt=null;function b1(t,i){if(t=t.containerInfo,Md=Pc,t=Xp(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,B=0,Q=0,W=t,q=null;t:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(S=_+h),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++Q===l&&(D=_),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},Pc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Hs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){et(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function Uy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&ll(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){et(a,a.return,_)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(a,a.return,_)}}l&64&&Oy(a),l&512&&ul(a,a.return);break;case 3:if(Wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tg(t,i)}catch(_){et(a,a.return,_)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:Wi(t,a),i===null&&l&4&&Vy(a),l&512&&ul(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),l&4&&By(t,a);break;case 13:Wi(t,a),l&4&&qy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=N1.bind(null,a),$1(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||Nt,h=Ji;var d=Nt;Ji=l,(Nt=i)&&!d?er(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Ji=h,Nt=d}break;case 30:break;default:Wi(t,a)}}function jy(t){var i=t.alternate;i!==null&&(t.alternate=null,jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,cn=!1;function Zi(t,i,a){for(a=a.child;a!==null;)zy(t,i,a),a=a.sibling}function zy(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Nt||Ai(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ai(a,i);var l=ft,h=cn;Hr(a.type)&&(ft=a.stateNode,cn=!1),Zi(t,i,a),_l(a.stateNode),ft=l,cn=h;break;case 5:Nt||Ai(a,i);case 6:if(l=ft,h=cn,ft=null,Zi(t,i,a),ft=l,cn=h,ft!==null)if(cn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:ft!==null&&(cn?(t=ft,O_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ya(t)):O_(ft,a.stateNode));break;case 4:l=ft,h=cn,ft=a.stateNode.containerInfo,cn=!0,Zi(t,i,a),ft=l,cn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),Nt||Pr(4,a,i),Zi(t,i,a);break;case 1:Nt||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&My(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Zi(t,i,a),Nt=l;break;default:Zi(t,i,a)}}function By(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(a){et(i,i.return,a)}}}function qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(a){et(i,i.return,a)}}function T1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ly),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ly),i;default:throw Error(s(435,t.tag))}}function gc(t,i){var a=T1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=D1.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Hr(S.type)){ft=S.stateNode,cn=!1;break e}break;case 5:ft=S.stateNode,cn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,cn=!0;break e}S=S.return}if(ft===null)throw Error(s(160));zy(d,_,h),ft=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hy(i,t),i=i.sibling}var ei=null;function Hy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Pr(3,t,t.return),ll(3,t),Pr(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(Nt||a===null||Ai(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(hn(i,t),fn(t),l&512&&(Nt||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[wt]=t,At(d),l=d;break e;case"link":var _=H_("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=H_("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,At(d),l=d}t.stateNode=l}else F_(h,t.type,t.stateNode);else t.stateNode=q_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?F_(h,t.type,t.stateNode):q_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(Nt||a===null||Ai(a,a.return)),a!==null&&l&4&&ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(Nt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(fe){et(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){et(t,t.return,fe)}}break;case 3:if(Oc=null,h=ei,ei=Nc(i.containerInfo),hn(i,t),ei=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(fe){et(t,t.return,fe)}fd&&(fd=!1,Fy(t));break;case 4:l=ei,ei=Nc(t.stateNode.containerInfo),hn(i,t),fn(t),ei=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Ji,Q=Nt;if(Ji=B||h,Nt=Q||D,hn(i,t),Nt=Q,Ji=B,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Ji||Nt||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var W=D.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){et(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){et(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var G=D.stateNode;h?M_(G,!0):M_(D.stateNode,!1)}catch(fe){et(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(t);pc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var S=cd(t);pc(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=cd(t);hd(t,B,D);break;default:throw Error(s(161))}}catch(Q){et(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uy(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Fs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&My(i,i.return,a),Fs(i);break;case 27:_l(i.stateNode);case 26:case 5:Ai(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(h,d,a),ll(4,d);break;case 1:if(er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){et(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)bg(D[h],S)}catch(B){et(l,l.return,B)}}a&&_&64&&Oy(d),ul(d,d.return);break;case 27:Py(d);case 26:case 5:er(h,d,a),a&&l===null&&_&4&&Vy(d),ul(d,d.return);break;case 12:er(h,d,a);break;case 31:er(h,d,a),a&&_&4&&By(h,d);break;case 13:er(h,d,a),a&&_&4&&qy(h,d);break;case 22:d.memoizedState===null&&er(h,d,a),ul(d,d.return);break;case 30:break;default:er(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gy(t,i,a,l),i=i.sibling}function Gy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&ll(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){et(i,i.return,D)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):cl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&dd(_,i);break;case 24:ti(t,i,a,l),h&2048&&md(i.alternate,i);break;default:ti(t,i,a,l)}}function ka(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,S,D,h),ll(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?ka(d,_,S,D,h):cl(d,_):(Q._visibility|=2,ka(d,_,S,D,h)),h&&B&2048&&dd(_.alternate,_);break;case 24:ka(d,_,S,D,h),h&&B&2048&&md(_.alternate,_);break;default:ka(d,_,S,D,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&dd(l.alternate,l);break;case 24:cl(a,l),h&2048&&md(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Pa(t,i,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Yy(t,i,a),t=t.sibling}function Yy(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&hl&&t.memoizedState!==null&&lS(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var l=ei;ei=Nc(t.stateNode.containerInfo),Pa(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,Pa(t,i,a),hl=l):Pa(t,i,a));break;default:Pa(t,i,a)}}function Qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,Xy(l,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):fl(t);break;default:fl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,Xy(l,t)}Qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function Xy(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(jy(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var S1={getCacheForType:function(t){var i=Gt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,ke=null,Le=0,We=0,wn=null,Lr=!1,La=!1,pd=!1,tr=0,gt=0,Ur=0,Gs=0,gd=0,An=0,Ua=0,dl=null,dn=null,yd=!1,_c=0,$y=0,vc=1/0,Ec=null,jr=null,Vt=0,zr=null,ja=null,nr=0,_d=0,vd=null,Jy=null,ml=0,Ed=null;function xn(){return($e&2)!==0&&Le!==0?Le&-Le:Y.T!==null?xd():bu()}function Zy(){if(An===0)if((Le&536870912)===0||qe){var t=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function mn(t,i,a){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(za(t,0),Br(t,Le,An,!1)),vs(t,a),(($e&2)===0||t!==st)&&(t===st&&(($e&2)===0&&(Gs|=a),gt===4&&Br(t,Le,An,!1)),xi(t))}function Wy(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?R1(t,i):Td(t,i,!0),d=l;do{if(h===0){La&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!A1(a)){h=Td(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=dl;var D=S.current.memoizedState.isDehydrated;if(D&&(za(S,_).flags|=256),_=Td(S,_,!1),_!==2){if(pd&&!D){S.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){za(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,An,!Lr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_c+300-sn(),10<h)){if(Br(l,i,An,!Lr),li(l,0,!0)!==0)break e;nr=i,l.timeoutHandle=N_(e_.bind(null,l,a,dn,Ec,yd,i,An,Gs,Ua,Lr,d,"Throttled",-0,0),h);break e}e_(l,a,dn,Ec,yd,i,An,Gs,Ua,Lr,d,null,-0,0)}}break}while(!0);xi(t)}function e_(t,i,a,l,h,d,_,S,D,B,Q,W,q,G){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Yy(i,d,W);var fe=(d&62914560)===d?_c-sn():(d&4194048)===d?$y-sn():0;if(fe=uS(W,fe),fe!==null){nr=d,t.cancelPendingCommit=fe(l_.bind(null,t,i,d,a,l,h,_,S,D,Q,W,null,q,G)),Br(t,d,_,!B);return}}l_(t,i,d,a,l,h,_,S,D)}function A1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~gd,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-yt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Es(t,a,i)}function bc(){return($e&6)===0?(pl(0),!1):!0}function bd(){if(ke!==null){if(We===0)var t=ke.return;else t=ke,Gi=Ps=null,Lf(t),Na=null,Jo=0,t=ke;for(;t!==null;)Dy(t.alternate,t),t=t.return;ke=null}}function za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,G1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nr=0,bd(),st=t,ke=a=Hi(t.current,null),Le=i,We=0,wn=null,Lr=!1,La=Gn(t,i),pd=!1,Ua=An=gd=Gs=Ur=gt=0,dn=dl=null,yd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),d=1<<h;i|=t[h],l&=~d}return tr=i,qu(),a}function t_(t,i){Ne=null,Y.H=sl,i===Ia||i===$u?(i=yg(),We=3):i===Af?(i=yg(),We=4):We=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,ke===null&&(gt=1,cc(t,Mn(i,t.current)))}function n_(){var t=Tn.current;return t===null?!0:(Le&4194048)===Le?Ln===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ln:!1}function i_(){var t=Y.H;return Y.H=sl,t===null?sl:t}function r_(){var t=Y.A;return Y.A=S1,t}function Tc(){gt=4,Lr||(Le&4194048)!==Le&&Tn.current!==null||(La=!0),(Ur&134217727)===0&&(Gs&134217727)===0||st===null||Br(st,Le,An,!1)}function Td(t,i,a){var l=$e;$e|=2;var h=i_(),d=r_();(st!==t||Le!==i)&&(Ec=null,za(t,i)),i=!1;var _=gt;e:do try{if(We!==0&&ke!==null){var S=ke,D=wn;switch(We){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=We;if(We=0,wn=null,Ba(t,S,D,B),a&&La){_=0;break e}break;default:B=We,We=0,wn=null,Ba(t,S,D,B)}}x1(),_=gt;break}catch(Q){t_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Gi=Ps=null,$e=l,Y.H=h,Y.A=d,ke===null&&(st=null,Le=0,qu()),_}function x1(){for(;ke!==null;)s_(ke)}function R1(t,i){var a=$e;$e|=2;var l=i_(),h=r_();st!==t||Le!==i?(Ec=null,vc=sn()+500,za(t,i)):La=Gn(t,i);e:do try{if(We!==0&&ke!==null){i=ke;var d=wn;t:switch(We){case 1:We=0,wn=null,Ba(t,i,d,1);break;case 2:case 9:if(pg(d)){We=0,wn=null,a_(i);break}i=function(){We!==2&&We!==9||st!==t||(We=7),xi(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:pg(d)?(We=0,wn=null,a_(i)):(We=0,wn=null,Ba(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var S=ke;if(_?G_(_):S.stateNode.complete){We=0,wn=null;var D=S.sibling;if(D!==null)ke=D;else{var B=S.return;B!==null?(ke=B,Sc(B)):ke=null}break t}}We=0,wn=null,Ba(t,i,d,5);break;case 6:We=0,wn=null,Ba(t,i,d,6);break;case 8:bd(),gt=6;break e;default:throw Error(s(462))}}C1();break}catch(Q){t_(t,Q)}while(!0);return Gi=Ps=null,Y.H=l,Y.A=h,$e=a,ke!==null?0:(st=null,Le=0,qu(),gt)}function C1(){for(;ke!==null&&!Jh();)s_(ke)}function s_(t){var i=Iy(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Sc(t):ke=i}function a_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Sy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Sy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Lf(i);default:Dy(a,i),i=ke=rg(i,tr),i=Iy(a,i,tr)}t.memoizedProps=t.pendingProps,i===null?Sc(t):ke=i}function Ba(t,i,a,l){Gi=Ps=null,Lf(i),Na=null,Jo=0;var h=i.return;try{if(g1(t,h,i,a,Le)){gt=1,cc(t,Mn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;gt=1,cc(t,Mn(a,t.current)),ke=null;return}i.flags&32768?(qe||l===1?t=!0:La||(Le&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o_(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){o_(i,Lr);return}t=i.return;var a=v1(i.alternate,i,tr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);gt===0&&(gt=5)}function o_(t,i){do{var a=E1(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);gt=6,ke=null}function l_(t,i,a,l,h,d,_,S,D){t.cancelPendingCommit=null;do wc();while(Vt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,ef(t,a,d,_,S,D),t===st&&(ke=st=null,Le=0),ja=i,zr=t,nr=a,_d=d,vd=h,Jy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,O1(yr,function(){return d_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,_=$e,$e|=4;try{b1(t,i,a)}finally{$e=_,se.p=h,Y.T=l}}Vt=1,u_(),c_(),h_()}}function u_(){if(Vt===1){Vt=0;var t=zr,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=$e;$e|=4;try{Hy(i,t);var d=Vd,_=Xp(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Kp(S.ownerDocument.documentElement,S)){if(D!==null&&sf(S)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Q,S.value.length);else{var W=S.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),fe=S.textContent.length,ve=Math.min(D.start,fe),rt=D.end===void 0?ve:Math.min(D.end,fe);!G.extend&&ve>rt&&(_=rt,rt=ve,ve=_);var P=Qp(S,ve),V=Qp(S,rt);if(P&&V&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var z=W.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),ve>rt?(G.addRange(z),G.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),G.addRange(z))}}}}for(W=[],G=S;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var J=W[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Pc=!!Md,Vd=Md=null}finally{$e=h,se.p=l,Y.T=a}}t.current=i,Vt=2}}function c_(){if(Vt===2){Vt=0;var t=zr,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=$e;$e|=4;try{Uy(t,i.alternate,i)}finally{$e=h,se.p=l,Y.T=a}}Vt=3}}function h_(){if(Vt===4||Vt===3){Vt=0,mu();var t=zr,i=ja,a=nr,l=Jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,ja=zr=null,f_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),ji(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,se.p=h}}(nr&3)!==0&&wc(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?ml++:(ml=0,Ed=t):ml=0,pl(0)}}function f_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function wc(){return u_(),c_(),h_(),d_()}function d_(){if(Vt!==5)return!1;var t=zr,i=_d;_d=0;var a=ji(nr),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=vd,vd=null;var d=zr,_=nr;if(Vt=0,ja=zr=null,nr=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,Ky(d.current),Gy(d,d.current,_,a),$e=S,pl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{se.p=h,Y.T=l,f_(t,i)}}function m_(t,i,a){i=Mn(a,i),i=Zf(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(vs(t,2),xi(t))}function et(t,i,a){if(t.tag===3)m_(t,t,a);else for(;i!==null;){if(i.tag===3){m_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=Mn(a,t),a=py(2),l=Mr(i,a,2),l!==null&&(gy(a,l,i,t),vs(l,2),xi(l));break}}i=i.return}}function Sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new w1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pd=!0,h.add(a),t=I1.bind(null,t,i,a),i.then(t,t))}function I1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Le&a)===a&&(gt===4||gt===3&&(Le&62914560)===Le&&300>sn()-_c?($e&2)===0&&za(t,0):gd|=a,Ua===Le&&(Ua=0)),xi(t)}function p_(t,i){i===0&&(i=Eu()),t=Ms(t,i),t!==null&&(vs(t,i),xi(t))}function N1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),p_(t,a)}function D1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),p_(t,a)}function O1(t,i){return Mt(t,i)}var Ac=null,qa=null,wd=!1,xc=!1,Ad=!1,qr=0;function xi(t){t!==qa&&t.next===null&&(qa===null?Ac=qa=t:qa=qa.next=t),xc=!0,wd||(wd=!0,V1())}function pl(t,i){if(!Ad&&xc){Ad=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,v_(l,d))}else d=Le,d=li(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,v_(l,d));l=l.next}while(a);Ad=!1}}function M1(){g_()}function g_(){xc=wd=!1;var t=0;qr!==0&&F1()&&(t=qr);for(var i=sn(),a=null,l=Ac;l!==null;){var h=l.next,d=y_(l,i);d===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=h}Vt!==0&&Vt!==5||pl(t),qr!==0&&(qr=0)}function y_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),S=1<<_,D=h[_];D===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Wh(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=st,a=Le,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gr(l),ji(a)){case 2:case 8:a=Ao;break;case 32:a=yr;break;case 268435456:a=pu;break;default:a=yr}return l=__.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function __(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Le;return l=li(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wy(t,l,i),y_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?__.bind(null,t):null)}function v_(t,i){if(wc())return null;Wy(t,i,!0)}function V1(){Y1(function(){($e&6)!==0?Mt(wo,M1):g_()})}function xd(){if(qr===0){var t=Ra;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),qr=t}return qr}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function b_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function k1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=E_((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?E_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new vi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=_?b_(h,_):new FormData(h);Yf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?b_(h,_):new FormData(h),Yf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Rd=0;Rd<uf.length;Rd++){var Cd=uf[Rd],P1=Cd.toLowerCase(),L1=Cd[0].toUpperCase()+Cd.slice(1);Wn(P1,"on"+L1)}Wn(Zp,"onAnimationEnd"),Wn(Wp,"onAnimationIteration"),Wn(eg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(WT,"onTransitionRun"),Wn(e1,"onTransitionStart"),Wn(t1,"onTransitionCancel"),Wn(tg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function T_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Q){Bu(Q)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Q){Bu(Q)}h.currentTarget=null,d=D}}}}function Pe(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=t+"__bubble";a.has(l)||(S_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),S_(a,t,l,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Rc]){t[Rc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(U1.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Id("selectionchange",!1,i))}}function S_(t,i,a,l){switch(Z_(i)){case 2:var h=fS;break;case 8:h=dS;break;default:h=Gd}a=h.bind(null,i,a,t),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Sr(function(){var B=d,Q=In(a),W=[];e:{var q=ng.get(t);if(q!==void 0){var G=vi,fe=t;switch(t){case"keypress":if(Rs(a)===0)break e;case"keydown":case"keyup":G=Uu;break;case"focusin":fe="focus",G=Is;break;case"focusout":fe="blur",G=Is;break;case"beforeblur":case"afterblur":G=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case Zp:case Wp:case eg:G=Du;break;case tg:G=A;break;case"scroll":case"scrollend":G=zo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=qi;break;case"toggle":case"beforetoggle":G=Ie}var ve=(i&4)!==0,rt=!ve&&(t==="scroll"||t==="scrollend"),P=ve?q!==null?q+"Capture":null:q;ve=[];for(var V=B,z;V!==null;){var J=V;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||P===null||(J=Xn(V,P),J!=null&&ve.push(yl(V,J,z))),rt)break;V=V.return}0<ve.length&&(q=new G(q,fe,null,a,Q),W.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Lo&&(fe=a.relatedTarget||a.fromElement)&&(fi(fe)||fe[ci]))break e;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(fe=a.relatedTarget||a.toElement,G=B,fe=fe?fi(fe):null,fe!==null&&(rt=u(fe),ve=fe.tag,fe!==rt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(G=null,fe=B),G!==fe)){if(ve=Bo,J="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=qi,J="onPointerLeave",P="onPointerEnter",V="pointer"),rt=G==null?q:_n(G),z=fe==null?q:_n(fe),q=new ve(J,V+"leave",G,a,Q),q.target=rt,q.relatedTarget=z,J=null,fi(Q)===B&&(ve=new ve(P,V+"enter",fe,a,Q),ve.target=z,ve.relatedTarget=rt,J=ve),rt=J,G&&fe)t:{for(ve=j1,P=G,V=fe,z=0,J=P;J;J=ve(J))z++;J=0;for(var ye=V;ye;ye=ve(ye))J++;for(;0<z-J;)P=ve(P),z--;for(;0<J-z;)V=ve(V),J--;for(;z--;){if(P===V||V!==null&&P===V.alternate){ve=P;break t}P=ve(P),V=ve(V)}ve=null}else ve=null;G!==null&&w_(W,q,G,ve,!1),fe!==null&&rt!==null&&w_(W,rt,fe,ve,!0)}}e:{if(q=B?_n(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ye=Bp;else if(jp(q))if(qp)Ye=$T;else{Ye=KT;var me=QT}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ha(B.elementType)&&(Ye=Bp):Ye=XT;if(Ye&&(Ye=Ye(t,B))){zp(W,Ye,a,Q);break e}me&&me(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Vo(q,"number",q.value)}switch(me=B?_n(B):window,t){case"focusin":(jp(me)||me.contentEditable==="true")&&(va=me,af=B,Yo=null);break;case"focusout":Yo=af=va=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,$p(W,a,Q);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":$p(W,a,Q)}var Oe;if(Xe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else _a?Ns(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ti&&a.locale!=="ko"&&(_a||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&_a&&(Oe=jo()):(_i=Q,Uo="value"in _i?_i.value:_i.textContent,_a=!0)),me=Cc(B,Ue),0<me.length&&(Ue=new bi(Ue,t,null,a,Q),W.push({event:Ue,listeners:me}),Oe?Ue.data=Oe:(Oe=ya(a),Oe!==null&&(Ue.data=Oe)))),(Oe=Dn?HT(t,a):FT(t,a))&&(Ue=Cc(B,"onBeforeInput"),0<Ue.length&&(me=new bi("onBeforeInput","beforeinput",null,a,Q),W.push({event:me,listeners:Ue}),me.data=Oe)),k1(W,t,B,a,Q)}T_(W,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(yl(t,h,d)),h=Xn(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function j1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,h?(B=Xn(a,d),B!=null&&_.unshift(yl(a,B,D))):h||(B=Xn(a,d),B!=null&&_.push(yl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var z1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function A_(t){return(typeof t=="string"?t:""+t).replace(z1,`
`).replace(B1,"")}function x_(t,i){return i=A_(i),A_(t)===i}function it(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",h.name,h,null),it(t,i,"formEncType",h.formEncType,h,null),it(t,i,"formMethod",h.formMethod,h,null),it(t,i,"formTarget",h.formTarget,h,null)):(it(t,i,"encType",h.encType,h,null),it(t,i,"method",h.method,h,null),it(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ua(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,ua(t,a,l))}}function Od(t,i,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ua(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,d,_,a,null)}}h&&it(t,i,"srcSet",a.srcSet,a,null),l&&it(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var S=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:it(t,i,l,Q,a,null)}}Au(t,d,S,D,B,_,h,!1);return;case"select":Pe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:it(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:it(t,i,_,S,a,null)}Er(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,i,D,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Pe(gl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,B,l,a,null)}return;default:if(ha(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Od(t,i,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&it(t,i,S,l,a,null))}function q1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,B=null,Q=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(G)||it(t,i,G,null,l,W)}}for(var q in l){var G=l[q];if(W=a[q],l.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==W&&it(t,i,q,G,l,W)}}ca(t,_,S,D,B,Q,d,h);return;case"select":G=_=S=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||it(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&it(t,i,h,d,l,D)}i=S,a=_,l=G,q!=null?vr(t,!!a,q,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&it(t,i,_,h,l,d)}xu(t,q,G);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:it(t,i,fe,null,l,q)}for(D in l)if(q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:it(t,i,D,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&it(t,i,ve,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:it(t,i,B,q,l,G)}return;default:if(ha(i)){for(var rt in a)q=a[rt],a.hasOwnProperty(rt)&&q!==void 0&&!l.hasOwnProperty(rt)&&Od(t,i,rt,void 0,l,q);for(Q in l)q=l[Q],G=a[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||Od(t,i,Q,q,l,G);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&it(t,i,P,null,l,q);for(W in l)q=l[W],G=a[W],!l.hasOwnProperty(W)||q===G||q==null&&G==null||it(t,i,W,q,l,G)}function R_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&R_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var Q=D.transferSize,W=D.initiatorType;Q&&R_(W)&&(D=D.responseEnd,_+=Q*(D<S?1:(S-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,Vd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function C_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function F1(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(Q1)}:N_;function Q1(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function O_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ya(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);Ya(i)}function M_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function K1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function X1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function V_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var zd=null;function k_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function P_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function L_(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var jn=new Map,U_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ir=se.d;se.d={f:J1,r:Z1,D:W1,C:eS,L:tS,m:nS,X:rS,S:iS,M:sS};function J1(){var t=ir.f(),i=bc();return t||i}function Z1(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?ty(i):ir.r(t)}var Ha=typeof document>"u"?null:document;function j_(t,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U_.has(h)||(U_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function W1(t){ir.D(t),j_("dns-prefetch",t,null)}function eS(t,i){ir.C(t,i),j_("preconnect",t,i)}function tS(t,i,a){ir.L(t,i,a);var l=Ha;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}jn.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function nS(t,i){ir.m(t,i);var a=Ha;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!jn.has(d)&&(t=w({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Qt(l,"link",t),At(l),a.head.appendChild(l)}}}function iS(t,i,a){ir.S(t,i,a);var l=Ha;if(l&&t){var h=di(l).hoistableStyles,d=Fa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(vl(d)))S.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&Bd(t,a);var D=_=l.createElement("link");At(D),Qt(D,"link",t),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function rS(t,i){ir.X(t,i);var a=Ha;if(a&&t){var l=di(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=w({src:t,async:!0},i),(i=jn.get(h))&&qd(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sS(t,i){ir.M(t,i);var a=Ha;if(a&&t){var l=di(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&qd(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(t,i,a,l){var h=(h=ue.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||aS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+ln(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function B_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function aS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),At(i),t.head.appendChild(i))}function Ga(t){return'[src="'+ln(t)+'"]'}function El(t){return"script[async]"+t}function q_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Qt(l,"style",h),Dc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=B_(a),(h=jn.get(h))&&Bd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qt(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(El(d)))?(i.instance=h,At(h),h):(l=a,(h=jn.get(d))&&(l=w({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,t));return i.instance}function Dc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function H_(t,i,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function F_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function oS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function G_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Mc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=B_(l),(h=jn.get(h))&&Bd(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function uS(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Hd===0&&(Hd=62500*H1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Hd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(cS,t),Vc=null,Mc.call(t))}function cS(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function hS(t,i,a,l,h,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Y_(t,i,a,l,h,d,_,S,D,B,Q,W){return t=new hS(t,i,a,_,D,B,Q,W,S),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function Q_(t){return t?(t=Ta,t):Ta}function K_(t,i,a,l,h,d){h=Q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(mn(a,t,i),Wo(a,t,i))}function X_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Fd(t,i){X_(t,i),(t=t.alternate)&&X_(t,i)}function $_(t){if(t.tag===13||t.tag===31){var i=Ms(t,67108864);i!==null&&mn(i,t,67108864),Fd(t,67108864)}}function J_(t){if(t.tag===13||t.tag===31){var i=xn();i=bs(i);var a=Ms(t,i);a!==null&&mn(a,t,i),Fd(t,i)}}var Pc=!0;function fS(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,Gd(t,i,a,l)}finally{se.p=d,Y.T=h}}function dS(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,Gd(t,i,a,l)}finally{se.p=d,Y.T=h}}function Gd(t,i,a,l){if(Pc){var h=Yd(l);if(h===null)Dd(t,i,l,Lc,a),W_(t,l);else if(pS(h,t,i,a,l))l.stopPropagation();else if(W_(t,l),i&4&&-1<mS.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-yt(_);S.entanglements[1]|=D,_&=~D}xi(d),($e&6)===0&&(vc=sn()+500,pl(0))}}break;case 31:case 13:S=Ms(d,2),S!==null&&mn(S,d,2),bc(),Fd(d,2)}if(d=Yd(l),d===null&&Dd(t,i,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,i,l,null,a)}}function Yd(t){return t=In(t),Qd(t)}var Lc=null;function Qd(t){if(Lc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function Z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ys()){case wo:return 2;case Ao:return 8;case yr:case Zh:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Kd=!1,Fr=null,Gr=null,Yr=null,Tl=new Map,Sl=new Map,Qr=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function wl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&$_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function pS(t,i,a,l,h){switch(i){case"focusin":return Fr=wl(Fr,t,i,a,l,h),!0;case"dragenter":return Gr=wl(Gr,t,i,a,l,h),!0;case"mouseover":return Yr=wl(Yr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,wl(Tl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Sl.set(d,wl(Sl.get(d)||null,t,i,a,l,h)),!0}return!1}function ev(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){J_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){J_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Lo=l,a.target.dispatchEvent(l),Lo=null}else return i=Cn(a),i!==null&&$_(i),t.blockedOn=a,!1;i.shift()}return!0}function tv(t,i,a){Uc(t)&&a.delete(i)}function gS(){Kd=!1,Fr!==null&&Uc(Fr)&&(Fr=null),Gr!==null&&Uc(Gr)&&(Gr=null),Yr!==null&&Uc(Yr)&&(Yr=null),Tl.forEach(tv),Sl.forEach(tv)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gS)))}var zc=null;function nv(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ya(t){function i(D){return jc(D,t)}Fr!==null&&jc(Fr,t),Gr!==null&&jc(Gr,t),Yr!==null&&jc(Yr,t),Tl.forEach(i),Sl.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ut]||null;if(typeof d=="function")_||nv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)S=_.formAction;else if(Qd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),nv(a)}}}function iv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(t){this._internalRoot=t}Bc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();K_(a,l,t,i,null,null)},Bc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;K_(t.current,2,null,t,null,null),bc(),i[ci]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&ev(t)}};var rv=e.version;if(rv!=="19.2.0")throw Error(s(527,rv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var yS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Fn=qc.inject(yS),qt=qc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=hy,d=fy,_=dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Y_(t,1,!1,null,null,a,l,null,h,d,_,iv),t[ci]=i.current,Nd(t),new Xd(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=hy,_=fy,S=dy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Y_(t,1,!0,i,a??null,l,h,D,d,_,S,iv),i.context=Q_(null),a=i.current,l=xn(),l=bs(l),h=Or(l),h.callback=null,Mr(a,h,l),a=l,i.current.lanes=a,vs(i,a),xi(i),t[ci]=i.current,Nd(t),new Bc(i)},xl.version="19.2.0",xl}var mv;function CS(){if(mv)return Zd.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=RS(),Zd.exports}var IS=CS();const NS=K0(IS);var nm={exports:{}},xe={};var pv;function DS(){if(pv)return xe;pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=I&&T[I]||T["@@iterator"],typeof T=="function"?T:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,F={};function $(T,M,X){this.props=T,this.context=M,this.refs=F,this.updater=X||K}$.prototype.isReactComponent={},$.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},$.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function re(){}re.prototype=$.prototype;function ae(T,M,X){this.props=T,this.context=M,this.refs=F,this.updater=X||K}var Te=ae.prototype=new re;Te.constructor=ae,Z(Te,$.prototype),Te.isPureReactComponent=!0;var Ce=Array.isArray;function Se(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(T,M,X){var ee=X.ref;return{$$typeof:r,type:T,key:M,ref:ee!==void 0?ee:null,props:X}}function k(T,M){return C(T.type,M,T.props)}function O(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function L(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return M[X]})}var N=/\/+/g;function Ke(T,M){return typeof T=="object"&&T!==null&&T.key!=null?L(""+T.key):M.toString(36)}function at(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Se,Se):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Y(T,M,X,ee,le){var ue=typeof T;(ue==="undefined"||ue==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(ue){case"bigint":case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case r:case e:de=!0;break;case b:return de=T._init,Y(de(T._payload),M,X,ee,le)}}if(de)return le=le(T),de=ee===""?"."+Ke(T,0):ee,Ce(le)?(X="",de!=null&&(X=de.replace(N,"$&/")+"/"),Y(le,M,X,"",function(ce){return ce})):le!=null&&(O(le)&&(le=k(le,X+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(N,"$&/")+"/")+de)),M.push(le)),1;de=0;var Ge=ee===""?".":ee+":";if(Ce(T))for(var De=0;De<T.length;De++)ee=T[De],ue=Ge+Ke(ee,De),de+=Y(ee,M,X,ue,le);else if(De=U(T),typeof De=="function")for(T=De.call(T),De=0;!(ee=T.next()).done;)ee=ee.value,ue=Ge+Ke(ee,De++),de+=Y(ee,M,X,ue,le);else if(ue==="object"){if(typeof T.then=="function")return Y(at(T),M,X,ee,le);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return de}function se(T,M,X){if(T==null)return T;var ee=[],le=0;return Y(T,ee,"","",function(ue){return M.call(X,ue,le++)}),ee}function ge(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var Me=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Fe={map:se,forEach:function(T,M,X){se(T,function(){M.apply(this,arguments)},X)},count:function(T){var M=0;return se(T,function(){M++}),M},toArray:function(T){return se(T,function(M){return M})||[]},only:function(T){if(!O(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return xe.Activity=w,xe.Children=Fe,xe.Component=$,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ae,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return R.H.useMemoCache(T)}},xe.cache=function(T){return function(){return T.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(T,M,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=Z({},T.props),le=T.key;if(M!=null)for(ue in M.key!==void 0&&(le=""+M.key),M)!x.call(M,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&M.ref===void 0||(ee[ue]=M[ue]);var ue=arguments.length-2;if(ue===1)ee.children=X;else if(1<ue){for(var de=Array(ue),Ge=0;Ge<ue;Ge++)de[Ge]=arguments[Ge+2];ee.children=de}return C(T.type,le,ee)},xe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},xe.createElement=function(T,M,X){var ee,le={},ue=null;if(M!=null)for(ee in M.key!==void 0&&(ue=""+M.key),M)x.call(M,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=M[ee]);var de=arguments.length-2;if(de===1)le.children=X;else if(1<de){for(var Ge=Array(de),De=0;De<de;De++)Ge[De]=arguments[De+2];le.children=Ge}if(T&&T.defaultProps)for(ee in de=T.defaultProps,de)le[ee]===void 0&&(le[ee]=de[ee]);return C(T,ue,le)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(T){return{$$typeof:m,render:T}},xe.isValidElement=O,xe.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:ge}},xe.memo=function(T,M){return{$$typeof:y,type:T,compare:M===void 0?null:M}},xe.startTransition=function(T){var M=R.T,X={};R.T=X;try{var ee=T(),le=R.S;le!==null&&le(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Se,Me)}catch(ue){Me(ue)}finally{M!==null&&X.types!==null&&(M.types=X.types),R.T=M}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(T){return R.H.use(T)},xe.useActionState=function(T,M,X){return R.H.useActionState(T,M,X)},xe.useCallback=function(T,M){return R.H.useCallback(T,M)},xe.useContext=function(T){return R.H.useContext(T)},xe.useDebugValue=function(){},xe.useDeferredValue=function(T,M){return R.H.useDeferredValue(T,M)},xe.useEffect=function(T,M){return R.H.useEffect(T,M)},xe.useEffectEvent=function(T){return R.H.useEffectEvent(T)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(T,M,X){return R.H.useImperativeHandle(T,M,X)},xe.useInsertionEffect=function(T,M){return R.H.useInsertionEffect(T,M)},xe.useLayoutEffect=function(T,M){return R.H.useLayoutEffect(T,M)},xe.useMemo=function(T,M){return R.H.useMemo(T,M)},xe.useOptimistic=function(T,M){return R.H.useOptimistic(T,M)},xe.useReducer=function(T,M,X){return R.H.useReducer(T,M,X)},xe.useRef=function(T){return R.H.useRef(T)},xe.useState=function(T){return R.H.useState(T)},xe.useSyncExternalStore=function(T,M,X){return R.H.useSyncExternalStore(T,M,X)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.0",xe}var gv;function OS(){return gv||(gv=1,nm.exports=DS()),nm.exports}var ne=OS();var yv="popstate";function MS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return kS(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ki(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function _v(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:n,key:e&&e.key||s||VS()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ho(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function kS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=b(),$=F==null?null:F-y;y=F,g&&g({action:m,location:Z.location,delta:$})}function I(F,$){m="PUSH";let re=_m(Z.location,F,$);y=b()+1;let ae=_v(re,y),Te=Z.createHref(re);try{f.pushState(ae,"",Te)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Te)}u&&g&&g({action:m,location:Z.location,delta:1})}function U(F,$){m="REPLACE";let re=_m(Z.location,F,$);y=b();let ae=_v(re,y),Te=Z.createHref(re);f.replaceState(ae,"",Te),u&&g&&g({action:m,location:Z.location,delta:0})}function K(F){return PS(F)}let Z={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,w),g=F,()=>{o.removeEventListener(yv,w),g=null}},createHref(F){return e(o,F)},createURL:K,encodeLocation(F){let $=K(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:I,replace:U,go(F){return f.go(F)}};return Z}function PS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Bl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function X0(r,e,n="/"){return LS(r,e,n,!1)}function LS(r,e,n,s){let o=typeof e=="string"?ho(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=$0(r);US(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=XS(u);m=QS(f[g],y,s)}return m}function $0(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;dt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let w=ar([s,b.relativePath]),I=n.concat(b);f.children&&f.children.length>0&&(dt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),$0(f.children,e,I,w,g)),!(f.path==null&&!f.index)&&e.push({path:w,score:GS(w,f.index),routesMeta:I})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of J0(f.path))u(f,m,!0,g)}),e}function J0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=J0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function US(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:YS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jS=/^:[\w-]+$/,zS=3,BS=2,qS=1,HS=10,FS=-2,vv=r=>r==="*";function GS(r,e){let n=r.split("/"),s=n.length;return n.some(vv)&&(s+=FS),e&&(s+=BS),n.filter(o=>!vv(o)).reduce((o,u)=>o+(jS.test(u)?zS:u===""?qS:HS),s)}function YS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function QS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",w=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),I=g.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ar([u,w.pathname]),pathnameBase:WS(ar([u,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(u=ar([u,w.pathnameBase]))}return f}function uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:w},I)=>{if(b==="*"){let K=m[I]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const U=m[I];return w&&!U?y[b]=void 0:y[b]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function KS(r,e=!1,n=!0){ki(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function XS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function $S(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ho(r):r;return{pathname:n?n.startsWith("/")?n:JS(n,e):e,search:ew(s),hash:tw(o)}}function JS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z0(r){let e=ZS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function W0(r,e,n,s=!1){let o;typeof r=="string"?o=ho(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}m=w>=0?e[w]:"/"}let g=$S(o,m),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),WS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ew=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var iw=["GET",...eE];new Set(iw);var fo=ne.createContext(null);fo.displayName="DataRouter";var Nh=ne.createContext(null);Nh.displayName="DataRouterState";ne.createContext(!1);var tE=ne.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var rw=ne.createContext(new Map);rw.displayName="Fetchers";var sw=ne.createContext(null);sw.displayName="Await";var Ui=ne.createContext(null);Ui.displayName="Navigation";var Zl=ne.createContext(null);Zl.displayName="Location";var mr=ne.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Qm=ne.createContext(null);Qm.displayName="RouteError";function aw(r,{relative:e}={}){dt(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=ne.useContext(Ui),{hash:o,pathname:u,search:f}=tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Wl(){return ne.useContext(Zl)!=null}function ds(){return dt(Wl(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(Zl).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(r){ne.useContext(Ui).static||ne.useLayoutEffect(r)}function eu(){let{isDataRoute:r}=ne.useContext(mr);return r?vw():ow()}function ow(){dt(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=ne.useContext(fo),{basename:e,navigator:n}=ne.useContext(Ui),{matches:s}=ne.useContext(mr),{pathname:o}=ds(),u=JSON.stringify(Z0(s)),f=ne.useRef(!1);return iE(()=>{f.current=!0}),ne.useCallback((g,y={})=>{if(ki(f.current,nE),!f.current)return;if(typeof g=="number"){n.go(g);return}let b=W0(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ar([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,r])}ne.createContext(null);function tu(r,{relative:e}={}){let{matches:n}=ne.useContext(mr),{pathname:s}=ds(),o=JSON.stringify(Z0(n));return ne.useMemo(()=>W0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function lw(r,e){return rE(r,e)}function rE(r,e,n,s,o){dt(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=ne.useContext(Ui),{matches:f}=ne.useContext(mr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";sE(y,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let I=ds(),U;if(e){let re=typeof e=="string"?ho(e):e;dt(b==="/"||re.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${re.pathname}" was given in the \`location\` prop.`),U=re}else U=I;let K=U.pathname||"/",Z=K;if(b!=="/"){let re=b.replace(/^\//,"").split("/");Z="/"+K.replace(/^\//,"").split("/").slice(re.length).join("/")}let F=X0(r,{pathname:Z});ki(w||F!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),ki(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=dw(F&&F.map(re=>Object.assign({},re,{params:Object.assign({},g,re.params),pathname:ar([b,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?b:ar([b,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&$?ne.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},$):$}function uw(){let r=_w(),e=nw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:u},"ErrorBoundary")," or"," ",ne.createElement("code",{style:u},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:o},n):null,f)}var cw=ne.createElement(uw,null),hw=class extends ne.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?ne.createElement(mr.Provider,{value:this.props.routeContext},ne.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fw({routeContext:r,match:e,children:n}){let s=ne.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(mr.Provider,{value:r},n)}function dw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:w,errors:I}=n,U=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!I||I[b.route.id]===void 0);if(b.route.lazy||U){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,b,w)=>{let I,U=!1,K=null,Z=null;n&&(I=f&&b.route.id?f[b.route.id]:void 0,K=b.route.errorElement||cw,m&&(g<0&&w===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,Z=null):g===w&&(U=!0,Z=b.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,w+1)),$=()=>{let re;return I?re=K:U?re=Z:b.route.Component?re=ne.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=y,ne.createElement(fw,{match:b,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?ne.createElement(hw,{location:n.location,revalidation:n.revalidation,component:K,error:I,children:$(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):$()},null)}function Km(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(r){let e=ne.useContext(fo);return dt(e,Km(r)),e}function pw(r){let e=ne.useContext(Nh);return dt(e,Km(r)),e}function gw(r){let e=ne.useContext(mr);return dt(e,Km(r)),e}function Xm(r){let e=gw(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yw(){return Xm("useRouteId")}function _w(){let r=ne.useContext(Qm),e=pw("useRouteError"),n=Xm("useRouteError");return r!==void 0?r:e.errors?.[n]}function vw(){let{router:r}=mw("useNavigate"),e=Xm("useNavigate"),n=ne.useRef(!1);return iE(()=>{n.current=!0}),ne.useCallback(async(o,u={})=>{ki(n.current,nE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ev={};function sE(r,e,n){!e&&!Ev[r]&&(Ev[r]=!0,ki(!1,n))}ne.memo(Ew);function Ew({routes:r,future:e,state:n,unstable_onError:s}){return rE(r,void 0,n,s,e)}function Cl(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){dt(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=ne.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ho(n));let{pathname:g="/",search:y="",hash:b="",state:w=null,key:I="default"}=n,U=ne.useMemo(()=>{let K=ur(g,f);return K==null?null:{location:{pathname:K,search:y,hash:b,state:w,key:I},navigationType:s}},[f,g,y,b,w,I,s]);return ki(U!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:ne.createElement(Ui.Provider,{value:m},ne.createElement(Zl.Provider,{children:e,value:U}))}function Tw({children:r,location:e}){return lw(vm(r),e)}function vm(r,e=[]){let n=[];return ne.Children.forEach(r,(s,o)=>{if(!ne.isValidElement(s))return;let u=[...e,o];if(s.type===ne.Fragment){n.push.apply(n,vm(s.props.children,u));return}dt(s.type===Cl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Jc="get",Zc="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function Sw(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function ww(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function Aw(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function xw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Rw(r,e){return r.button===0&&(!e||e==="_self")&&!xw(r)}var Hc=null;function Cw(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(r){return r!=null&&!Iw.has(r)?(ki(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function Nw(r,e){let n,s,o,u,f;if(ww(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||Jc,o=rm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(Sw(r)||Aw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ur(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=rm(r.getAttribute("formenctype"))||rm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!Cw()){let{name:y,type:b,value:w}=r;if(b==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,w)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Dw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Ow(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Vw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Ow(u,n);return f.links?f.links():[]}return[]}));return Uw(s.flat(1).filter(Mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function kw(r,e,{includeHydrateFallback:n}={}){return Pw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Pw(r){return[...new Set(r)]}function Lw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Uw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Lw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function aE(){let r=ne.useContext(fo);return $m(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jw(){let r=ne.useContext(Nh);return $m(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jm=ne.createContext(void 0);Jm.displayName="FrameworkContext";function oE(){let r=ne.useContext(Jm);return $m(r,"You must render this element inside a <HydratedRouter> element"),r}function zw(r,e){let n=ne.useContext(Jm),[s,o]=ne.useState(!1),[u,f]=ne.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:w}=e,I=ne.useRef(null);ne.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=$=>{$.forEach(re=>{f(re.isIntersecting)})},F=new IntersectionObserver(Z,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[r]),ne.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let U=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Rl(m,U),onBlur:Rl(g,K),onMouseEnter:Rl(y,U),onMouseLeave:Rl(b,K),onTouchStart:Rl(w,U)}]:[!1,I,{}]}function Rl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Bw({page:r,...e}){let{router:n}=aE(),s=ne.useMemo(()=>X0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?ne.createElement(Hw,{page:r,matches:s,...e}):null}function qw(r){let{manifest:e,routeModules:n}=oE(),[s,o]=ne.useState([]);return ne.useEffect(()=>{let u=!1;return Vw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Hw({page:r,matches:e,...n}){let s=ds(),{manifest:o,routeModules:u}=oE(),{basename:f}=aE(),{loaderData:m,matches:g}=jw(),y=ne.useMemo(()=>bv(r,e,g,o,s,"data"),[r,e,g,o,s]),b=ne.useMemo(()=>bv(r,e,g,o,s,"assets"),[r,e,g,o,s]),w=ne.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Z=!1;if(e.forEach($=>{let re=o.routes[$.route.id];!re||!re.hasLoader||(!y.some(ae=>ae.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||re.hasClientLoader?Z=!0:K.add($.route.id))}),K.size===0)return[];let F=Dw(r,f,"data");return Z&&K.size>0&&F.searchParams.set("_routes",e.filter($=>K.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,r,u]),I=ne.useMemo(()=>kw(b,o),[b,o]),U=qw(b);return ne.createElement(ne.Fragment,null,w.map(K=>ne.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),I.map(K=>ne.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),U.map(({key:K,link:Z})=>ne.createElement("link",{key:K,nonce:n.nonce,...Z})))}function Fw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lE&&(window.__reactRouterVersion="7.9.5")}catch{}function Gw({basename:r,children:e,window:n}){let s=ne.useRef();s.current==null&&(s.current=MS({window:n,v5Compat:!0}));let o=s.current,[u,f]=ne.useState({action:o.action,location:o.location}),m=ne.useCallback(g=>{ne.startTransition(()=>f(g))},[f]);return ne.useLayoutEffect(()=>o.listen(m),[o,m]),ne.createElement(bw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=ne.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:b,viewTransition:w,...I},U){let{basename:K}=ne.useContext(Ui),Z=typeof y=="string"&&uE.test(y),F,$=!1;if(typeof y=="string"&&Z&&(F=y,lE))try{let C=new URL(window.location.href),k=y.startsWith("//")?new URL(C.protocol+y):new URL(y),O=ur(k.pathname,K);k.origin===C.origin&&O!=null?y=O+k.search+k.hash:$=!0}catch{ki(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=aw(y,{relative:o}),[ae,Te,Ce]=zw(s,I),Se=Xw(y,{replace:f,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:w});function R(C){e&&e(C),C.defaultPrevented||Se(C)}let x=ne.createElement("a",{...I,...Ce,href:F||re,onClick:$||u?e:R,ref:Fw(U,Te),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return ae&&!Z?ne.createElement(ne.Fragment,null,x,ne.createElement(Bw,{page:re})):x});gn.displayName="Link";var Yw=ne.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},b){let w=tu(f,{relative:y.relative}),I=ds(),U=ne.useContext(Nh),{navigator:K,basename:Z}=ne.useContext(Ui),F=U!=null&&eA(w)&&m===!0,$=K.encodeLocation?K.encodeLocation(w).pathname:w.pathname,re=I.pathname,ae=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(re=re.toLowerCase(),ae=ae?ae.toLowerCase():null,$=$.toLowerCase()),ae&&Z&&(ae=ur(ae,Z)||ae);const Te=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Ce=re===$||!o&&re.startsWith($)&&re.charAt(Te)==="/",Se=ae!=null&&(ae===$||!o&&ae.startsWith($)&&ae.charAt($.length)==="/"),R={isActive:Ce,isPending:Se,isTransitioning:F},x=Ce?e:void 0,C;typeof s=="function"?C=s(R):C=[s,Ce?"active":null,Se?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(R):u;return ne.createElement(gn,{...y,"aria-current":x,className:C,ref:b,style:k,to:f,viewTransition:m},typeof g=="function"?g(R):g)});Yw.displayName="NavLink";var Qw=ne.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:w,...I},U)=>{let K=Zw(),Z=Ww(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&uE.test(m),re=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let Te=ae.nativeEvent.submitter,Ce=Te?.getAttribute("formmethod")||f;K(Te||ae.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:w})};return ne.createElement("form",{ref:U,method:F,action:Z,onSubmit:s?g:re,...I,"data-discover":!$&&r==="render"?"true":void 0})});Qw.displayName="Form";function Kw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cE(r){let e=ne.useContext(fo);return dt(e,Kw(r)),e}function Xw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=eu(),g=ds(),y=tu(r,{relative:u});return ne.useCallback(b=>{if(Rw(b,e)){b.preventDefault();let w=n!==void 0?n:Bl(g)===Bl(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var $w=0,Jw=()=>`__${String(++$w)}__`;function Zw(){let{router:r}=cE("useSubmit"),{basename:e}=ne.useContext(Ui),n=yw();return ne.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=Nw(s,e);if(o.navigate===!1){let b=o.fetcherKey||Jw();await r.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Ww(r,{relative:e}={}){let{basename:n}=ne.useContext(Ui),s=ne.useContext(mr);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:e})},f=ds();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Bl(u)}function eA(r,{relative:e}={}){let n=ne.useContext(tE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cE("useViewTransitionState"),o=tu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}const tA=()=>{};var Tv={};const hE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,b=u>>2,w=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,U=y&63;g||(U=64,f||(I=64)),s.push(n[b],n[w],n[I],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new iA;const I=u<<2|m>>4;if(s.push(I),y!==64){const U=m<<4&240|y>>2;if(s.push(U),w!==64){const K=y<<6&192|w;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rA=function(r){const e=hE(r);return fE.encodeByteArray(e,!0)},ch=function(r){return rA(r).replace(/\./g,"")},dE=function(r){try{return fE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aA=()=>sA().__FIREBASE_DEFAULTS__,oA=()=>{if(typeof process>"u"||typeof Tv>"u")return;const r=Tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&dE(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return tA()||aA()||oA()||lA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mE=r=>Oh()?.emulatorHosts?.[r],uA=r=>{const e=mE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pE=()=>Oh()?.config,gE=r=>Oh()?.[`_${r}`];class cA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yE(r){return(await fetch(r,{credentials:"include"})).ok}function hA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const kl={};function fA(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function dA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Sv=!1;function _E(r,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||kl[r]===e||kl[r]||Sv)return;kl[r]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=fA().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Sv=!0,f()},I}function b(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=dA(s),U=n("text"),K=document.getElementById(U)||document.createElement("span"),Z=n("learnmore"),F=document.getElementById(Z)||document.createElement("a"),$=n("preprendIcon"),re=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;m(ae),b(F,Z);const Te=y();g(re,$),ae.append(re,K,F,Te),document.body.appendChild(ae)}u?(K.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function pA(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function EA(){return!pA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const SA="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SA,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?wA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function wA(r,e){return r.replace(AA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AA=/\{\$([^}]+)}/g;function xA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(wv(u)&&wv(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}function iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Il(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function RA(r,e){const n=new CA(r,e);return n.subscribe.bind(n)}class CA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function sm(){}function yn(r){return r&&r._delegate?r._delegate:r}class $s{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class NA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DA(r){return r===Ys?void 0:r}function OA(r){return r.instantiationMode==="EAGER"}class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const VA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},kA=je.INFO,PA={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},LA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=PA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=kA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const UA=(r,e)=>e.some(n=>r instanceof n);let Av,xv;function jA(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zA(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,Em=new WeakMap,EE=new WeakMap,am=new WeakMap,Wm=new WeakMap;function BA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,r)}).catch(()=>{}),Wm.set(e,r),e}function qA(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let bm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||EE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function HA(r){bm=r(bm)}function FA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(om(this),e,...n);return EE.set(s,e.sort?e.sort():[e]),ts(s)}:zA().includes(r)?function(...e){return r.apply(om(this),e),ts(vE.get(this))}:function(...e){return ts(r.apply(om(this),e))}}function GA(r){return typeof r=="function"?FA(r):(r instanceof IDBTransaction&&qA(r),UA(r,jA())?new Proxy(r,bm):r)}function ts(r){if(r instanceof IDBRequest)return BA(r);if(am.has(r))return am.get(r);const e=GA(r);return e!==r&&(am.set(r,e),Wm.set(e,r)),e}const om=r=>Wm.get(r);function YA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ts(f.result),g.oldVersion,g.newVersion,ts(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const QA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],lm=new Map;function Rv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=KA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QA.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return lm.set(e,u),u}HA(r=>({...r,get:(e,n,s)=>Rv(e,n)||r.get(e,n,s),has:(e,n)=>!!Rv(e,n)||r.has(e,n)}));class XA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($A(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $A(r){return r.getComponent()?.type==="VERSION"}const Tm="@firebase/app",Cv="0.14.5";const cr=new Zm("@firebase/app"),JA="@firebase/app-compat",ZA="@firebase/analytics-compat",WA="@firebase/analytics",e2="@firebase/app-check-compat",t2="@firebase/app-check",n2="@firebase/auth",i2="@firebase/auth-compat",r2="@firebase/database",s2="@firebase/data-connect",a2="@firebase/database-compat",o2="@firebase/functions",l2="@firebase/functions-compat",u2="@firebase/installations",c2="@firebase/installations-compat",h2="@firebase/messaging",f2="@firebase/messaging-compat",d2="@firebase/performance",m2="@firebase/performance-compat",p2="@firebase/remote-config",g2="@firebase/remote-config-compat",y2="@firebase/storage",_2="@firebase/storage-compat",v2="@firebase/firestore",E2="@firebase/ai",b2="@firebase/firestore-compat",T2="firebase",S2="12.5.0";const Sm="[DEFAULT]",w2={[Tm]:"fire-core",[JA]:"fire-core-compat",[WA]:"fire-analytics",[ZA]:"fire-analytics-compat",[t2]:"fire-app-check",[e2]:"fire-app-check-compat",[n2]:"fire-auth",[i2]:"fire-auth-compat",[r2]:"fire-rtdb",[s2]:"fire-data-connect",[a2]:"fire-rtdb-compat",[o2]:"fire-fn",[l2]:"fire-fn-compat",[u2]:"fire-iid",[c2]:"fire-iid-compat",[h2]:"fire-fcm",[f2]:"fire-fcm-compat",[d2]:"fire-perf",[m2]:"fire-perf-compat",[p2]:"fire-rc",[g2]:"fire-rc-compat",[y2]:"fire-gcs",[_2]:"fire-gcs-compat",[v2]:"fire-fst",[b2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[T2]:"fire-js-all"};const hh=new Map,A2=new Map,wm=new Map;function Iv(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(wm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of hh.values())Iv(n,r);for(const n of A2.values())Iv(n,r);return!0}function ep(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}const x2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new nu("app","Firebase",x2);class R2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const po=S2;function bE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Sm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=pE()),!n)throw ns.create("no-options");const u=hh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new MA(o);for(const g of wm.values())f.addComponent(g);const m=new R2(n,s,f);return hh.set(o,m),m}function TE(r=Sm){const e=hh.get(r);if(!e&&r===Sm&&pE())return bE();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=w2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}ro(new $s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const C2="firebase-heartbeat-database",I2=1,ql="firebase-heartbeat-store";let um=null;function SE(){return um||(um=YA(C2,I2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),um}async function N2(r){try{const n=(await SE()).transaction(ql),s=await n.objectStore(ql).get(wE(r));return await n.done,s}catch(e){if(e instanceof pr)cr.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function Nv(r,e){try{const s=(await SE()).transaction(ql,"readwrite");await s.objectStore(ql).put(e,wE(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function wE(r){return`${r.name}!${r.options.appId}`}const D2=1024,O2=30;class M2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>O2){const o=P2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dv(),{heartbeatsToSend:n,unsentEntries:s}=V2(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function V2(r,e=D2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ov(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ov(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function P2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function L2(r){ro(new $s("platform-logger",e=>new XA(e),"PRIVATE")),ro(new $s("heartbeat",e=>new M2(e),"PRIVATE")),is(Tm,Cv,r),is(Tm,Cv,"esm2020"),is("fire-js","")}L2("");function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U2=AE,xE=new nu("auth","Firebase",AE());const fh=new Zm("@firebase/auth");function j2(r,...e){fh.logLevel<=je.WARN&&fh.warn(`Auth (${po}): ${r}`,...e)}function Wc(r,...e){fh.logLevel<=je.ERROR&&fh.error(`Auth (${po}): ${r}`,...e)}function ri(r,...e){throw tp(r,...e)}function Ci(r,...e){return tp(r,...e)}function RE(r,e,n){const s={...U2(),[e]:n};return new nu("auth","Firebase",s).create(e,{appName:r.name})}function or(r){return RE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xE.create(r,...e)}function Ee(r,e,...n){if(!r)throw tp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wc(e),new Error(e)}function hr(r,e){r||rr(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function z2(){return Mv()==="http:"||Mv()==="https:"}function Mv(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||yA()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=mA()||_A()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class CE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new ru(3e4,6e4);function ms(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,o={}){return IE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return gA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(y.credentials="include"),CE.fetch()(await NE(r,r.config.apiHost,n,m),y)})}async function IE(r,e,n){r._canInitEmulator=!1;const s={...H2,...e};try{const o=new Q2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Fc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Fc(r,"user-disabled",f);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw RE(r,b,y);ri(r,b)}}catch(o){if(o instanceof pr)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function su(r,e,n,s,o={}){const u=await ps(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?np(r.config,o):`${r.config.apiScheme}://${o}`;return F2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Y2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),G2.get())})}}function Fc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function Vv(r){return r!==void 0&&r.enterprise!==void 0}class K2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X2(r,e){return ps(r,"GET","/v2/recaptchaConfig",ms(r,e))}async function $2(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function dh(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}function Pl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J2(r,e=!1){const n=yn(r),s=await n.getIdToken(e),o=ip(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Pl(cm(o.auth_time)),issuedAtTime:Pl(cm(o.iat)),expirationTime:Pl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(r){return Number(r)*1e3}function ip(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=dE(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function kv(r){const e=ip(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&Z2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Z2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class W2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(r){const e=r.auth,n=await r.getIdToken(),s=await Hl(r,dh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?DE(o.providerUserInfo):[],f=tx(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function ex(r){const e=yn(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nx(r,e){const n=await IE(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await NE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(g.credentials="include"),CE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ix(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ms(r,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=kv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Xr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J2(this,e)}reload(){return ex(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await Hl(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:w,emailVerified:I,isAnonymous:U,providerData:K,stsTokenManager:Z}=n;Ee(w&&Z,e,"internal-error");const F=Wa.fromJSON(this.name,Z);Ee(typeof w=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Ee(typeof I=="boolean",e,"internal-error"),Ee(typeof U=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(g,e.name),Xr(y,e.name),Xr(b,e.name);const $=new ni({uid:w,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:b});return K&&Array.isArray(K)&&($.providerData=K.map(re=>({...re}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Wa;m.updateFromIdToken(s);const g=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Pv=new Map;function sr(r){hr(r instanceof Function,"Expected a class definition");let e=Pv.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Pv.set(r,e),e)}class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OE.type="NONE";const Lv=OE;function eh(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(sr(Lv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||sr(Lv);const f=eh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let w;if(typeof b=="string"){const I=await dh(e,{idToken:b}).catch(()=>{});if(!I)break;w=await ni._fromGetAccountInfoResponse(e,I,b)}else w=ni._fromJSON(e,b);y!==u&&(m=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}function Uv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ME(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(jE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function ME(r=nn()){return/firefox\//i.test(r)}function VE(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(r=nn()){return/crios\//i.test(r)}function PE(r=nn()){return/iemobile/i.test(r)}function LE(r=nn()){return/android/i.test(r)}function UE(r=nn()){return/blackberry/i.test(r)}function jE(r=nn()){return/webos/i.test(r)}function rp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rx(r=nn()){return rp(r)&&!!window.navigator?.standalone}function sx(){return vA()&&document.documentMode===10}function zE(r=nn()){return rp(r)||LE(r)||jE(r)||UE(r)||/windows phone/i.test(r)||PE(r)}function BE(r,e=[]){let n;switch(r){case"Browser":n=Uv(nn());break;case"Worker":n=`${Uv(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}class ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ox(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ms(r,e))}const lx=6;class ux{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class cx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(or(this));const n=e?yn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ox(this),n=new ux(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ix(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ta(r){return yn(r)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=RA(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hx(r){Mh=r}function qE(r){return Mh.loadJS(r)}function fx(){return Mh.recaptchaEnterpriseScript}function dx(){return Mh.gapiScript}function mx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class px{constructor(){this.enterprise=new gx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yx="recaptcha-enterprise",HE="NO_RECAPTCHA";class _x{constructor(e){this.type=yx,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{X2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new K2(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Vv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(HE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new px().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Vv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=fx();g.length!==0&&(g+=m),qE(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function zv(r,e,n,s=!1,o=!1){const u=new _x(r);let f;if(o)f=HE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await zv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await zv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function vx(r,e){const n=ep(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function Ex(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function bx(r,e,n){const s=ta(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FE(e),{host:f,port:m}=Tx(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Xs(y,s.config.emulator)&&Xs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,mo(f)?(yE(`${u}//${f}${g}`),_E("Auth",!0)):Sx()}function FE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Tx(r){const e=FE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bv(f)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Sx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function wx(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}async function Ax(r,e){return su(r,"POST","/v1/accounts:signInWithPassword",ms(r,e))}async function xx(r,e){return su(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}async function Rx(r,e){return su(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}class Fl extends sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Fl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",Ax);case"emailLink":return xx(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,s,"signUpPassword",wx);case"emailLink":return Rx(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function to(r,e){return su(r,"POST","/v1/accounts:signInWithIdp",ms(r,e))}const Cx="http://localhost";class Js extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:Cx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}function Ix(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nx(r){const e=Il(Nl(r)).link,n=e?Il(Nl(e)).deep_link_id:null,s=Il(Nl(r)).deep_link_id;return(s?Il(Nl(s)).link:null)||s||n||e||r}class ap{constructor(e){const n=Il(Nl(e)),s=n.apiKey??null,o=n.oobCode??null,u=Ix(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Nx(e);try{return new ap(n)}catch{return null}}}class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ap.parseLink(n);return Ee(s,"argument-error"),Fl._fromEmailAndCode(e,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class GE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends GE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends au{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class Jr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";class Zr extends au{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class Wr extends au{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";async function Dx(r,e){return su(r,"POST","/v1/accounts:signUp",ms(r,e))}class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=qv(s);return new Zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=qv(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ph extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function YE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,e,s):u})}async function Ox(r,e,n=!1){const s=await Hl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Zs._forOperation(r,"link",s)}async function Mx(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(or(s));const o="reauthenticate";try{const u=await Hl(r,YE(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=ip(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),Zs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}async function QE(r,e,n=!1){if(zn(r.app))return Promise.reject(or(r));const s="signIn",o=await YE(r,s,e),u=await Zs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function Vx(r,e){return QE(ta(r),e)}async function KE(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kx(r,e,n){if(zn(r.app))return Promise.reject(or(r));const s=ta(r),f=await Rm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&KE(r),g}),m=await Zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Px(r,e,n){return zn(r.app)?Promise.reject(or(r)):Vx(yn(r),go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&KE(r),s})}function Lx(r,e,n,s){return yn(r).onIdTokenChanged(e,n,s)}function Ux(r,e,n){return yn(r).beforeAuthStateChanged(e,n)}function jx(r,e,n,s){return yn(r).onAuthStateChanged(e,n,s)}function zx(r){return yn(r).signOut()}const gh="__sak";class XE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bx=1e3,qx=10;class $E extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);sx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const Hx=$E;class JE extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JE.type="SESSION";const ZE=JE;function Fx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await Fx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function op(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class Gx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=op("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function Yx(r){Ii().location.href=r}function WE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Qx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kx(){return navigator?.serviceWorker?.controller||null}function Xx(){return WE()?self:null}const eb="firebaseLocalStorageDb",$x=1,yh="firebaseLocalStorage",tb="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(r,e){return r.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function Jx(){const r=indexedDB.deleteDatabase(eb);return new ou(r).toPromise()}function Cm(){const r=indexedDB.open(eb,$x);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yh,{keyPath:tb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await Jx(),e(await Cm()))})})}async function Hv(r,e,n){const s=kh(r,!0).put({[tb]:e,value:n});return new ou(s).toPromise()}async function Zx(r,e){const n=kh(r,!1).get(e),s=await new ou(n).toPromise();return s===void 0?null:s.value}function Fv(r,e){const n=kh(r,!0).delete(e);return new ou(n).toPromise()}const Wx=800,eR=3;class nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>eR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(Xx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Qx(),!this.activeServiceWorker)return;this.sender=new Gx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Hv(e,gh,"1"),await Fv(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Zx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=kh(o,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nb.type="LOCAL";const tR=nb;new ru(3e4,6e4);function nR(r,e){return e?sr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class lp extends sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iR(r){return QE(r.auth,new lp(r),r.bypassAuthState)}function rR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Mx(n,new lp(r),r.bypassAuthState)}async function sR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Ox(n,new lp(r),r.bypassAuthState)}class ib{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:ri(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aR=new ru(2e3,1e4);class Ja extends ib{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aR.get())};e()}}Ja.currentPopupAction=null;const oR="pendingRedirect",th=new Map;class lR extends ib{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const s=await uR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(r,e){const n=fR(e),s=hR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cR(r,e){th.set(r._key(),e)}function hR(r){return sr(r._redirectPersistence)}function fR(r){return eh(oR,r.config.apiKey,r.name)}async function dR(r,e,n=!1){if(zn(r.app))return Promise.reject(or(r));const s=ta(r),o=nR(s,e),f=await new lR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const mR=600*1e3;class pR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function rb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function gR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rb(r);default:return!1}}async function yR(r,e={}){return ps(r,"GET","/v1/projects",e)}const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vR=/^https?/;async function ER(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yR(r);for(const n of e)try{if(bR(n))return}catch{}ri(r,"unauthorized-domain")}function bR(r){const e=Am(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!vR.test(n))return!1;if(_R.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const TR=new ru(3e4,6e4);function Yv(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function SR(r){return new Promise((e,n)=>{function s(){Yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yv(),n(Ci(r,"network-request-failed"))},timeout:TR.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=mx("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},qE(`${dx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw nh=null,e})}let nh=null;function wR(r){return nh=nh||SR(r),nh}const AR=new ru(5e3,15e3),xR="__/auth/iframe",RR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?np(e,RR):`https://${r.config.authDomain}/${xR}`,s={apiKey:e.apiKey,appName:r.name,v:po},o=IR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function DR(r){const e=await wR(r),n=Ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:NR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},AR.get());function g(){Ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const OR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,VR=600,kR="_blank",PR="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LR(r,e,n,s=MR,o=VR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...OR,width:s.toString(),height:o.toString(),top:u,left:f},y=nn().toLowerCase();n&&(m=kE(y)?kR:n),ME(y)&&(e=e||PR,g.scrollbars="yes");const b=Object.entries(g).reduce((I,[U,K])=>`${I}${U}=${K},`,"");if(rx(y)&&m!=="_self")return UR(e||"",m),new Qv(null);const w=window.open(e||"",m,b);Ee(w,r,"popup-blocked");try{w.focus()}catch{}return new Qv(w)}function UR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const jR="__/auth/handler",zR="emulator/auth/handler",BR=encodeURIComponent("fac");async function Kv(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof GE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",xA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))f[b]=w}if(e instanceof au){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await r._getAppCheckToken(),y=g?`#${BR}=${encodeURIComponent(g)}`:"";return`${qR(r)}?${iu(m).slice(1)}${y}`}function qR({config:r}){return r.emulator?np(r,zR):`https://${r.authDomain}/${jR}`}const hm="webStorageSupport";class HR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=dR,this._overrideRedirectResult=cR}async _openPopup(e,n,s,o){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Kv(e,n,s,Am(),o);return LR(e,u,op())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Kv(e,n,s,Am(),o);return Yx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await DR(e),s=new pR(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{const u=o?.[0]?.[hm];u!==void 0&&n(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ER(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||VE()||rp()}}const FR=HR;var Xv="@firebase/auth",$v="1.11.1";class GR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(r){ro(new $s("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(r)},y=new cx(s,o,u,g);return Ex(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new $s("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new GR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Xv,$v,YR(r)),is(Xv,$v,"esm2020")}const KR=300,XR=gE("authIdTokenMaxAge")||KR;let Jv=null;const $R=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XR)return;const o=n?.token;Jv!==o&&(Jv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JR(r=TE()){const e=ep(r,"auth");if(e.isInitialized())return e.getImmediate();const n=vx(r,{popupRedirectResolver:FR,persistence:[tR,Hx,ZE]}),s=gE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$R(u.toString());Ux(n,f,()=>f(n.currentUser)),Lx(n,m=>f(m))}}const o=mE("auth");return o&&bx(n,`http://${o}`),n}function ZR(){return document.getElementsByTagName("head")?.[0]??document}hx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var WR="firebase",eC="12.5.0";is(WR,eC,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,sb;(function(){var r;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(k,O,L){for(var N=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)N[Ke-2]=arguments[Ke];return x.prototype[O].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const k=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)k[O]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(O=0;O<16;++O)k[O]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],O=R.g[2];let L=R.g[3],N;N=x+(L^C&(O^L))+k[0]+3614090360&4294967295,x=C+(N<<7&4294967295|N>>>25),N=L+(O^x&(C^O))+k[1]+3905402710&4294967295,L=x+(N<<12&4294967295|N>>>20),N=O+(C^L&(x^C))+k[2]+606105819&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(x^O&(L^x))+k[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=x+(L^C&(O^L))+k[4]+4118548399&4294967295,x=C+(N<<7&4294967295|N>>>25),N=L+(O^x&(C^O))+k[5]+1200080426&4294967295,L=x+(N<<12&4294967295|N>>>20),N=O+(C^L&(x^C))+k[6]+2821735955&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(x^O&(L^x))+k[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=x+(L^C&(O^L))+k[8]+1770035416&4294967295,x=C+(N<<7&4294967295|N>>>25),N=L+(O^x&(C^O))+k[9]+2336552879&4294967295,L=x+(N<<12&4294967295|N>>>20),N=O+(C^L&(x^C))+k[10]+4294925233&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(x^O&(L^x))+k[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=x+(L^C&(O^L))+k[12]+1804603682&4294967295,x=C+(N<<7&4294967295|N>>>25),N=L+(O^x&(C^O))+k[13]+4254626195&4294967295,L=x+(N<<12&4294967295|N>>>20),N=O+(C^L&(x^C))+k[14]+2792965006&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(x^O&(L^x))+k[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=x+(O^L&(C^O))+k[1]+4129170786&4294967295,x=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(x^C))+k[6]+3225465664&4294967295,L=x+(N<<9&4294967295|N>>>23),N=O+(x^C&(L^x))+k[11]+643717713&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^x&(O^L))+k[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=x+(O^L&(C^O))+k[5]+3593408605&4294967295,x=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(x^C))+k[10]+38016083&4294967295,L=x+(N<<9&4294967295|N>>>23),N=O+(x^C&(L^x))+k[15]+3634488961&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^x&(O^L))+k[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=x+(O^L&(C^O))+k[9]+568446438&4294967295,x=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(x^C))+k[14]+3275163606&4294967295,L=x+(N<<9&4294967295|N>>>23),N=O+(x^C&(L^x))+k[3]+4107603335&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^x&(O^L))+k[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=x+(O^L&(C^O))+k[13]+2850285829&4294967295,x=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(x^C))+k[2]+4243563512&4294967295,L=x+(N<<9&4294967295|N>>>23),N=O+(x^C&(L^x))+k[7]+1735328473&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^x&(O^L))+k[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=x+(C^O^L)+k[5]+4294588738&4294967295,x=C+(N<<4&4294967295|N>>>28),N=L+(x^C^O)+k[8]+2272392833&4294967295,L=x+(N<<11&4294967295|N>>>21),N=O+(L^x^C)+k[11]+1839030562&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^x)+k[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=x+(C^O^L)+k[1]+2763975236&4294967295,x=C+(N<<4&4294967295|N>>>28),N=L+(x^C^O)+k[4]+1272893353&4294967295,L=x+(N<<11&4294967295|N>>>21),N=O+(L^x^C)+k[7]+4139469664&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^x)+k[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=x+(C^O^L)+k[13]+681279174&4294967295,x=C+(N<<4&4294967295|N>>>28),N=L+(x^C^O)+k[0]+3936430074&4294967295,L=x+(N<<11&4294967295|N>>>21),N=O+(L^x^C)+k[3]+3572445317&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^x)+k[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=x+(C^O^L)+k[9]+3654602809&4294967295,x=C+(N<<4&4294967295|N>>>28),N=L+(x^C^O)+k[12]+3873151461&4294967295,L=x+(N<<11&4294967295|N>>>21),N=O+(L^x^C)+k[15]+530742520&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^x)+k[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=x+(O^(C|~L))+k[0]+4096336452&4294967295,x=C+(N<<6&4294967295|N>>>26),N=L+(C^(x|~O))+k[7]+1126891415&4294967295,L=x+(N<<10&4294967295|N>>>22),N=O+(x^(L|~C))+k[14]+2878612391&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~x))+k[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=x+(O^(C|~L))+k[12]+1700485571&4294967295,x=C+(N<<6&4294967295|N>>>26),N=L+(C^(x|~O))+k[3]+2399980690&4294967295,L=x+(N<<10&4294967295|N>>>22),N=O+(x^(L|~C))+k[10]+4293915773&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~x))+k[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=x+(O^(C|~L))+k[8]+1873313359&4294967295,x=C+(N<<6&4294967295|N>>>26),N=L+(C^(x|~O))+k[15]+4264355552&4294967295,L=x+(N<<10&4294967295|N>>>22),N=O+(x^(L|~C))+k[6]+2734768916&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~x))+k[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=x+(O^(C|~L))+k[4]+4149444226&4294967295,x=C+(N<<6&4294967295|N>>>26),N=L+(C^(x|~O))+k[11]+3174756917&4294967295,L=x+(N<<10&4294967295|N>>>22),N=O+(x^(L|~C))+k[2]+718787259&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~x))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,k=this.C;let O=this.h,L=0;for(;L<x;){if(O==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<x;)if(k[O++]=R.charCodeAt(L++),O==this.blockSize){o(this,k),O=0;break}}else for(;L<x;)if(k[O++]=R[L++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)R[x++]=this.g[C]>>>k&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function f(R,x){this.h=x;const C=[];let k=!0;for(let O=R.length-1;O>=0;O--){const L=R[O]|0;k&&L==x||(C[O]=L,k=!1)}this.g=C}var m={};function g(R){return-128<=R&&R<128?u(R,function(x){return new f([x|0],x<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return F(y(-R));const x=[];let C=1;for(let k=0;R>=C;k++)x[k]=R/C|0,C*=4294967296;return new f(x,0)}function b(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return F(b(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let k=w;for(let L=0;L<R.length;L+=8){var O=Math.min(8,R.length-L);const N=parseInt(R.substring(L,L+O),x);O<8?(O=y(Math.pow(x,O)),k=k.j(O).add(y(N))):(k=k.j(C),k=k.add(y(N)))}return k}var w=g(0),I=g(1),U=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-F(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);R+=(k>=0?k:4294967296+k)*x,x*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(K(this))return"0";if(Z(this))return"-"+F(this).toString(R);const x=y(Math.pow(R,6));var C=this;let k="";for(;;){const O=Te(C,x).g;C=$(C,O.j(x));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,K(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function K(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function Z(R){return R.h==-1}r.l=function(R){return R=$(this,R),Z(R)?-1:K(R)?0:1};function F(R){const x=R.g.length,C=[];for(let k=0;k<x;k++)C[k]=~R.g[k];return new f(C,~R.h).add(I)}r.abs=function(){return Z(this)?F(this):this},r.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let k=0;for(let O=0;O<=x;O++){let L=k+(this.i(O)&65535)+(R.i(O)&65535),N=(L>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);k=N>>>16,L&=65535,N&=65535,C[O]=N<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function $(R,x){return R.add(F(x))}r.j=function(R){if(K(this)||K(R))return w;if(Z(this))return Z(R)?F(this).j(F(R)):F(F(this).j(R));if(Z(R))return F(this.j(F(R)));if(this.l(U)<0&&R.l(U)<0)return y(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<R.g.length;O++){const L=this.i(k)>>>16,N=this.i(k)&65535,Ke=R.i(O)>>>16,at=R.i(O)&65535;C[2*k+2*O]+=N*at,re(C,2*k+2*O),C[2*k+2*O+1]+=L*at,re(C,2*k+2*O+1),C[2*k+2*O+1]+=N*Ke,re(C,2*k+2*O+1),C[2*k+2*O+2]+=L*Ke,re(C,2*k+2*O+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new f(C,0)};function re(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function ae(R,x){this.g=R,this.h=x}function Te(R,x){if(K(x))throw Error("division by zero");if(K(R))return new ae(w,w);if(Z(R))return x=Te(F(R),x),new ae(F(x.g),F(x.h));if(Z(x))return x=Te(R,F(x)),new ae(F(x.g),x.h);if(R.g.length>30){if(Z(R)||Z(x))throw Error("slowDivide_ only works with positive integers.");for(var C=I,k=x;k.l(R)<=0;)C=Ce(C),k=Ce(k);var O=Se(C,1),L=Se(k,1);for(k=Se(k,2),C=Se(C,2);!K(k);){var N=L.add(k);N.l(R)<=0&&(O=O.add(C),L=N),k=Se(k,1),C=Se(C,1)}return x=$(R,O.j(x)),new ae(O,x)}for(O=w;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=y(C),N=L.j(x);Z(N)||N.l(R)>0;)C-=k,L=y(C),N=L.j(x);K(L)&&(L=I),O=O.add(L),R=$(R,N)}return new ae(O,R)}r.B=function(R){return Te(this,R).h},r.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)&R.i(k);return new f(C,this.h&R.h)},r.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)|R.i(k);return new f(C,this.h|R.h)},r.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)^R.i(k);return new f(C,this.h^R.h)};function Ce(R){const x=R.g.length+1,C=[];for(let k=0;k<x;k++)C[k]=R.i(k)<<1|R.i(k-1)>>>31;return new f(C,R.h)}function Se(R,x){const C=x>>5;x%=32;const k=R.g.length-C,O=[];for(let L=0;L<k;L++)O[L]=x>0?R.i(L+C)>>>x|R.i(L+C+1)<<32-x:R.i(L+C);return new f(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,sb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,rs=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ab,Dl,ob,ih,Im,lb,ub,cb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,H){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return p.prototype[j].apply(A,oe)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function K(c,p){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const H=j.length||0;c.length=v+H;for(let oe=0;oe<H;oe++)c[v+oe]=j[oe]}else c.push(j)}}class Z{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(c){f.setTimeout(()=>{throw c},0)}function $(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,v){const A=ae.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new Z(()=>new Te,c=>c.reset());class Te{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Se=!1,R=new re,x=()=>{const c=Promise.resolve(void 0);Ce=()=>{c.then(C)}};function C(){for(var c;c=$();){try{c.h.call(c.g)}catch(v){F(v)}var p=ae;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Se=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Ke(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}w(Ke,O),Ke.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,p,v,A,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=j,this.key=++Y,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Fe(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function T(c){const p={};for(const v in c)p[v]=c[v];return p}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(c,p){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let H=0;H<M.length;H++)v=M[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ee(c){this.src=c,this.g={},this.h=0}ee.prototype.add=function(c,p,v,A,j){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const oe=ue(c,p,A,j);return oe>-1?(p=c[oe],v||(p.fa=!1)):(p=new se(p,this.src,H,!!A,j),p.fa=v,c.push(p)),p};function le(c,p){const v=p.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,p,void 0),H;(H=j>=0)&&Array.prototype.splice.call(A,j,1),H&&(ge(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ue(c,p,v,A){for(let j=0;j<c.length;++j){const H=c[j];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==A)return j}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ge={};function De(c,p,v,A,j){if(Array.isArray(p)){for(let H=0;H<p.length;H++)De(c,p[H],v,A,j);return null}return v=So(v),c&&c[at]?c.J(p,v,m(A)?!!A.capture:!1,j):ce(c,p,v,!1,A,j)}function ce(c,p,v,A,j,H){if(!p)throw Error("Invalid event type");const oe=m(j)?!!j.capture:!!j;let Ie=gs(c);if(Ie||(c[de]=Ie=new ee(c)),v=Ie.add(p,v,A,oe,H),v.proxy)return v;if(A=Jt(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(j=oe),j===void 0&&(j=!1),c.addEventListener(p.toString(),A,j);else if(c.attachEvent)c.attachEvent(si(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jt(){function c(v){return p.call(c.src,c.listener,v)}const p=bo;return c}function rn(c,p,v,A,j){if(Array.isArray(p))for(var H=0;H<p.length;H++)rn(c,p[H],v,A,j);else A=m(A)?!!A.capture:!!A,v=So(v),c&&c[at]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=ue(p,v,A,j),v>-1&&(ge(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=gs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ue(p,v,A,j)),(v=c>-1?p[c]:null)&&Hn(v))}function Hn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[at])le(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(si(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=gs(p))?(le(v,c),v.h==0&&(v.src=null,p[de]=null)):ge(c)}}}function si(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function bo(c,p){if(c.da)c=!0;else{p=new Ke(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Hn(c),c=v.call(A,p)}return c}function gs(c){return c=c[de],c instanceof ee?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(c){return typeof c=="function"?c:(c[To]||(c[To]=function(p){return c.handleEvent(p)}),c[To])}function Tt(){k.call(this),this.i=new ee(this),this.M=this,this.G=null}w(Tt,k),Tt.prototype[at]=!0,Tt.prototype.removeEventListener=function(c,p,v,A){rn(this,c,p,v,A)};function Mt(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var j=p;p=new O(A,c),X(p,j)}j=!0;let H,oe;if(v)for(oe=v.length-1;oe>=0;oe--)H=p.g=v[oe],j=gr(H,A,!0,p)&&j;if(H=p.g=c,j=gr(H,A,!0,p)&&j,j=gr(H,A,!1,p)&&j,v)for(oe=0;oe<v.length;oe++)H=p.g=v[oe],j=gr(H,A,!1,p)&&j}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)ge(v[A]);delete c.g[p],c.h--}}this.G=null},Tt.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},Tt.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function gr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let j=!0;for(let H=0;H<p.length;++H){const oe=p[H];if(oe&&!oe.da&&oe.capture==v){const Ie=oe.listener,_t=oe.ha||oe.src;oe.fa&&le(c.i,oe),j=Ie.call(_t,A)!==!1&&j}}return j&&!A.defaultPrevented}function Jh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function mu(c){c.g=Jh(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class sn extends k{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){k.call(this),this.h=c,this.g={}}w(ys,k);var wo=[];function Ao(c){Me(c.g,function(p,v){this.g.hasOwnProperty(v)&&Hn(p)},c),c.g={}}ys.prototype.N=function(){ys.Z.N.call(this),Ao(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=f.JSON.stringify,Zh=f.JSON.parse,pu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function gu(){}function yu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}w(qt,O);function Rn(){O.call(this,"c")}w(Rn,O);var yt={},_u=null;function aa(){return _u=_u||new Tt}yt.Ia="serverreachability";function vu(c){O.call(this,yt.Ia,c)}w(vu,O);function ai(c){const p=aa();Mt(p,new vu(p))}yt.STAT_EVENT="statevent";function _s(c,p){O.call(this,yt.STAT_EVENT,c),this.stat=p}w(_s,O);function St(c){const p=aa();Mt(p,new _s(p,c))}yt.Ja="timingevent";function oi(c,p){O.call(this,yt.Ja,c),this.size=p}w(oi,O);function li(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Wh(c,p,v,A,j,H){c.info(function(){if(c.g)if(H){var oe="",Ie=H.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var _t=Ie[Xe].split("=");if(_t.length>1){const ht=_t[0];_t=_t[1];const Dn=ht.split("_");oe=Dn.length>=2&&Dn[1]=="type"?oe+(ht+"="+_t+"&"):oe+(ht+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+p+`
`+v+`
`+oe})}function Eu(c,p,v,A,j,H,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+p+`
`+v+`
`+H+" "+oe})}function ui(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ef(c,v)+(A?" "+A:"")})}function vs(c,p){c.info(function(){return"TIMEOUT: "+p})}Gn.prototype.info=function(){};function ef(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return yr(H)}catch{return p}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function bs(){}w(bs,gu),bs.prototype.g=function(){return new XMLHttpRequest},Ro=new bs;function ji(c){return encodeURIComponent(String(c))}function bu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Yn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function ci(c,p,v){c.M=1,c.A=Ts(xt(p)),c.u=v,c.R=!0,oa(c,null)}function oa(c,p){c.F=Date.now(),hi(c),c.B=xt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ha(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Qn,c.g=Pu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new sn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(wo[0]=j.toString()),j=wo);for(let H=0;H<j.length;H++){const oe=De(v,j[H],A||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=c.J?T(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ai(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const p=this.O;p&&$n(c)==3?p.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=$n(this.g),_t=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ie!=4||_t==7||(_t==8||Xe<=0?ai(3):ai(2)),fi(this);var p=this.g.ca();this.X=p;var v=tf(this);if(this.o=p==200,Eu(this.i,this.v,this.B,this.l,this.S,Ie,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var H=A;break t}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,St(12),_n(this),Cn(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=Su(this,v),ht==Ut){Ie==4&&(this.m=4,St(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==wt){this.m=4,St(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ht,null),di(this,ht);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(oe),oe.P=!0,St(11))}}else ui(this.i,this.l,v,null),di(this,v);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?Ou(this.j,this):(this.o=!1,hi(this)))}else Bi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),_n(this),Cn(this)}}}catch{}finally{}};function tf(c){if(!Tu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let v="";const A=p.length,j=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(j&&H==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Ut:(v=Number(p.substring(v,A)),isNaN(v)?wt:(A+=1,A+v>p.length?Ut:(p=p.slice(A,A+v),c.C=A+v,p)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function hi(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),p)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vs(this.i,this.B),this.M!=2&&(ai(),St(17)),_n(this),this.m=2,Cn(this)):la(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Ou(c.j,c)}function _n(c){fi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ao(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function di(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),Ar(v);else break e;Is(v),St(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&ga(v),!N(p))for(j=v.Ba.g.parse(p),p=0;p<j.length;p++){let Xe=j[p];const ht=Xe[0];if(!(ht<=v.K))if(v.K=ht,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Dn=Xe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ti=Xe[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Jn=Xe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const Ns=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var H=A.h;H.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(No(H,H.h),H.h=null))}if(A.G){const ya=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(A.wa=ya,Ze(A.J,A.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var oe=c;if(A.na=ku(A,A.L?A.ba:null,A.W),oe.L){Do(A.h,oe);var Ie=oe,_t=A.O;_t&&(Ie.H=_t),Ie.D&&(fi(Ie),hi(Ie)),A.g=oe}else Nu(A);v.i.length>0&&Ei(v)}else Xe[0]!="stop"&&Xe[0]!="close"||bi(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?bi(v,7):zo(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}ai(4)}catch{}}var At=class{constructor(c,p){this.g=c,this.map=p}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function No(c,p){c.g?c.g.add(p):c.h=p}function Do(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Co.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return U(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,H=null;A>=0?(j=c[v].substring(0,A),H=c[v].substring(A+1)):j=c[v],p(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof vn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,Mo(this,Cu(c.i)),this.m=c.m):c&&(p=String(c).match(wu))?(this.l=!1,jt(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),_r(this,p[4]),this.h=gi(p[5]||"",!0),Mo(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}vn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ss(p,ca,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ss(p,ca,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?Vo:Au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,xu)),c.join("")},vn.prototype.resolve=function(c){const p=xt(this);let v=!!c.j;v?jt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)_r(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=p.h.lastIndexOf("/");j!=-1&&(A=p.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let oe=0;oe<j.length;){const Ie=j[oe++];Ie=="."?A&&oe==j.length&&H.push(""):Ie==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&oe==j.length&&H.push("")):(H.push(Ie),A=!0)}A=H.join("/")}else A=j}return v?p.h=A:v=c.i.toString()!=="",v?Mo(p,Cu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function xt(c){return new vn(c)}function jt(c,p,v){c.j=v?gi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Mo(c,p,v){p instanceof Er?(c.i=p,fa(c.i,c.l)):(v||(p=Ss(p,vr)),c.i=new Er(p,c.l))}function Ze(c,p,v){c.i.set(p,v)}function Ts(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,Au=/[#\?:]/g,Vo=/[#\?]/g,vr=/[#\?@]/g,xu=/#/g;function Er(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,p){un(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Ru(c,p){un(c),p=br(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ko(c,p){return un(c),p=br(c,p),c.g.has(p)}r.forEach=function(c,p){un(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(p,j,A,this)},this)},this)};function Po(c,p){un(c);let v=[];if(typeof p=="string")ko(c,p)&&(v=v.concat(c.g.get(br(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return un(this),this.i=null,c=br(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Po(this,c),c.length>0?String(c[0]):p):p};function ha(c,p,v){Ru(c,p),v.length>0&&(c.i=null,c.g.set(br(c,p),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const j=ji(v);v=Po(this,v);for(let H=0;H<v.length;H++){let oe=j;v[H]!==""&&(oe+="="+ji(v[H])),c.push(oe)}}return this.i=c.join("&")};function Cu(c){const p=new Er;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function br(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function fa(c,p){p&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Ru(this,A),ha(this,j,v))},c)),c.j=p}function Kn(c,p){const v=new Gn;if(f.Image){const A=new Image;A.onload=b(In,v,"TestLoadImage: loaded",!0,p,A),A.onerror=b(In,v,"TestLoadImage: error",!1,p,A),A.onabort=b(In,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=b(In,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Lo(c,p){const v=new Gn,A=new AbortController,j=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(j),H.ok?In(v,"TestPingServer: ok",!0,p):In(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),In(v,"TestPingServer: error",!1,p)})}function In(c,p,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Tr(){this.g=new pu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(yi,gu),yi.prototype.g=function(){return new ws(this.i,this.h)};function ws(c,p){Tt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ws,Tt),r=ws.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Sr(this):Xn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let p="";return Me(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function As(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&ji(v):Ze(c,p,v))}function tt(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(tt,Tt);var _i=/^https?$/i,Uo=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){xs(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,p,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of v)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){xs(this,H)}};function xs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,jo(c),zi(c)}function jo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},r.Xa=function(){Rs(this)};function Rs(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=H===0){let oe=String(c.D).match(wu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!_i.test(oe?oe.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var j=$n(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",jo(c)}}finally{zi(c)}}}}function zi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Zh(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const p={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=bu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[j]||[];p[j]=H,H.push(v)}Fe(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function wr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){St(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),Ei(this)};function zo(c){if(ma(c),c.I==3){var p=c.V++,v=xt(c.J);if(Ze(v,"SID",c.M),Ze(v,"RID",p),Ze(v,"TYPE","terminate"),Cs(c,v),p=new Yn(c,c.j,p),p.M=2,p.A=Ts(xt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Pu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}Vu(c)}function Ar(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ma(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Io(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ce||x(),Se||(Ce(),Se=!0),R.add(p,c),c.D=0}}function pa(c,p){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,p),Mu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Yn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=T(H),X(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Iu(this,j,p),v=xt(this.J),Ze(v,"RID",c),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),Cs(this,v),H&&(this.R?p="headers="+ji(Nn(H))+"&"+p:this.u&&As(v,this.u,H)),No(this.h,j),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",p),Ze(v,"SID","null"),j.U=!0,ci(j,v,null)):ci(j,v,p),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Io(this.h)||Bo(this))};function Bo(c,p){var v;p?v=p.l:v=c.V++;const A=xt(c.J);Ze(A,"SID",c.M),Ze(A,"RID",v),Ze(A,"AID",c.K),Cs(c,A),c.u&&c.o&&As(A,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),ci(v,A,p)}function Cs(c,p){c.H&&Me(c.H,function(v,A){Ze(p,A,v)}),c.l&&Me({},function(v,A){Ze(p,A,v)})}function Iu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ie=-1;for(;;){const _t=["count="+v];Ie==-1?v>0?(Ie=j[0].g,_t.push("ofs="+Ie)):Ie=0:_t.push("ofs="+Ie);let Xe=!0;for(let ht=0;ht<v;ht++){var H=j[ht].g;const Dn=j[ht].map;if(H-=Ie,H<0)Ie=Math.max(0,j[ht].g-100),Xe=!1;else try{H="req"+H+"_"||"";try{var oe=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Jn]of oe){let Zn=Jn;m(Jn)&&(Zn=yr(Jn)),_t.push(H+Ti+"="+encodeURIComponent(Zn))}}catch(Ti){throw _t.push(H+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(Dn)}}if(Xe){oe=_t.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),p.G=c,oe}function Nu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ce||x(),Se||(Ce(),Se=!0),R.add(p,c),c.A=0}}function Is(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),Mu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ar(this),Du(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=xt(c.na);Ze(p,"RID","rpc"),Ze(p,"SID",c.M),Ze(p,"AID",c.K),Ze(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(p,"TO",c.ia),Ze(p,"TYPE","xmlhttp"),Cs(c,p),c.u&&c.o&&As(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ts(xt(p)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Is(this),St(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ou(c,p){var v=null;if(c.g==p){ga(c),qo(c),c.g=null;var A=2}else if(pi(c.h,p))v=p.G,Do(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var j=c.D;A=aa(),Mt(A,new oi(A,v)),Ei(c)}else Nu(c);else if(j=p.m,j==3||j==0&&p.X>0||!(A==1&&pa(c,p)||A==2&&Is(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),j){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Mu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function bi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const j=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(A,"https"),Ts(A),j?Kn(A.toString(),v):Lo(A.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(p),Vu(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const p=Oo(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function ku(c,p,v){var A=v instanceof vn?xt(v):new vn(v);if(A.g!="")p&&(A.g=p+"."+A.g),_r(A,A.u);else{var j=f.location;A=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;const H=new vn(null);A&&jt(H,A),p&&(H.g=p),j&&_r(H,j),v&&(H.h=v),A=H}return v=c.G,p=c.wa,v&&p&&Ze(A,v,p),Ze(A,"VER",c.ka),Cs(c,A),A}function Pu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new tt(new yi({ab:v})):new tt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,p){return new an(c,p)};function an(c,p){Tt.call(this),this.g=new wr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!N(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new qi(this)}w(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){zo(this.g)},an.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);p.i.push(new At(p.Ya++,c)),p.I==3&&Ei(p)},an.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,an.Z.N.call(this)};function Uu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(Uu,qt);function ju(){Rn.call(this),this.status=1}w(ju,Rn);function qi(c){this.g=c}w(qi,Lu),qi.prototype.ra=function(){Mt(this.g,"a")},qi.prototype.qa=function(c){Mt(this.g,new Uu(c))},qi.prototype.pa=function(c){Mt(this.g,new ju)},qi.prototype.oa=function(){Mt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,cb=function(){return new xr},ub=function(){return aa()},lb=yt,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,ih=Es,xo.COMPLETE="complete",ob=xo,yu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Dl=yu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,ab=tt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",e0="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let yo="12.3.0";const Ws=new Zm("@firebase/firestore");function Qa(){return Ws.logLevel}function he(r,...e){if(Ws.logLevel<=je.DEBUG){const n=e.map(up);Ws.debug(`Firestore (${yo}): ${r}`,...n)}}function fr(r,...e){if(Ws.logLevel<=je.ERROR){const n=e.map(up);Ws.error(`Firestore (${yo}): ${r}`,...n)}}function so(r,...e){if(Ws.logLevel<=je.WARN){const n=e.map(up);Ws.warn(`Firestore (${yo}): ${r}`,...n)}}function up(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,hb(r,s,n)}function hb(r,e,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Je(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||hb(e,o,s)}function Re(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class fb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class nC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new fb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class rC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return fm(o)===fm(u)?ze(o,u):fm(o)?1:-1}return ze(r.length,e.length)}const lC=55296,uC=57343;function fm(r){const e=r.charCodeAt(0);return e>=lC&&e<=uC}function ao(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const n0="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class ut extends Ri{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const cC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ri{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return cC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new Xt([n0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function db(r,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hC(r,e,n,s){if(e===!0&&s===!0)throw new pe(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function i0(r){if(!_e.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r0(r){if(_e.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function as(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hp(r);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!mb(r))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new pe(ie.INVALID_ARGUMENT,n);return!0}const s0=-62135596800,a0=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*a0);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Ot("string",ct._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ct(0,0))}static max(){return new we(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function fC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new os(o,_e.empty(),e)}function dC(r){return new os(r.readTime,r.key,Gl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(we.min(),_e.empty(),Gl)}static max(){return new os(we.max(),_e.empty(),Gl)}}function mC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const pC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _o(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==pC)throw r;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{f[y]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function yC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;const fp=-1;function Lh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function _C(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const pb="";function vC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=o0(e)),e=EC(r.get(n),e);return o0(e)}function EC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case pb:n+="";break;default:n+=u}}return n}function o0(r){return r+pb+""}function l0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function na(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function gb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new ii([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const n=bC.exec(r);if(Je(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const _b="server_timestamp",vb="__type__",Eb="__previous_value__",bb="__local_write_time__";function dp(r){return(r?.mapValue?.fields||{})[vb]?.stringValue===_b}function Uh(r){const e=r.mapValue.fields[Eb];return dp(e)?Uh(e):e}function Yl(r){const e=ls(r.mapValue.fields[bb].timestampValue);return new ct(e.seconds,e.nanos)}class TC{constructor(e,n,s,o,u,f,m,g,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const vh="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const Tb="__type__",SC="__max__",Qc={mapValue:{}},Sb="__vector__",Eh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:AC(r)?9007199254740991:wC(r)?10:11:be(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(l0(f)!==l0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Pi(f[g],m[g])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function oo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),g=bt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return c0(r.timestampValue,e.timestampValue);case 4:return c0(Yl(r),Yl(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),g=us(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=ze(m[y],g[y]);if(b!==0)return b}return ze(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(bt(u.latitude),bt(f.latitude));return m!==0?m:ze(bt(u.longitude),bt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return h0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Eh]?.arrayValue,b=g[Eh]?.arrayValue,w=ze(y?.values?.length||0,b?.values?.length||0);return w!==0?w:h0(y,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let w=0;w<g.length&&w<b.length;++w){const I=Nm(g[w],b[w]);if(I!==0)return I;const U=oo(m[g[w]],y[b[w]]);if(U!==0)return U}return ze(g.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function c0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=ls(r),s=ls(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function h0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function lo(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function rh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((u,f)=>{o+=u.length+rh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function mp(r){return!!r&&"arrayValue"in r}function f0(r){return!!r&&"nullValue"in r}function d0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function wC(r){return(r?.mapValue?.fields||{})[Tb]?.stringValue===Sb}function Ll(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return na(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ll(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return{...r}}function AC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SC}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){na(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(Ll(this.value))}}function wb(r){const e=[];return na(r.fields,((n,s)=>{const o=new Xt([n]);if(sh(s)){const u=wb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ii(e)}class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,n){this.position=e,this.inclusive=n}}function m0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function xC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Ab{}class kt extends Ab{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CC(e,n,s):n==="array-contains"?new DC(e,s):n==="in"?new OC(e,s):n==="not-in"?new MC(e,s):n==="array-contains-any"?new VC(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IC(e,s):new NC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends Ab{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return xb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xb(r){return r.op==="and"}function Rb(r){return RC(r)&&xb(r)}function RC(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function Mm(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(Rb(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function Cb(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof Li?(function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Cb(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function Ib(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ib).join(" ,")+"}"})(r):"Filter"}class CC extends kt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class IC extends kt{constructor(e,n){super(e,"in",n),this.keys=Nb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class NC extends kt{constructor(e,n){super(e,"not-in",n),this.keys=Nb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Nb(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class DC extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&Kl(n.arrayValue,this.value)}}class OC extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class MC extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class VC extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}class kC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function g0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new kC(r,e,n,s,o,u,f)}function pp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>lo(s))).join(",")),e.Te=n}return e.Te}function gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!xC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Cb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!p0(r.startAt,e.startAt)&&p0(r.endAt,e.endAt)}function Vm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class jh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PC(r,e,n,s,o,u,f,m){return new jh(r,e,n,s,o,u,f,m)}function yp(r){return new jh(r)}function y0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LC(r){return r.collectionGroup!==null}function Ul(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Xt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Th(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Th(Xt.keyField(),s))}return e.Ie}function Ni(r){const e=Re(r);return e.Ee||(e.Ee=UC(e,Ul(r))),e.Ee}function UC(r,e){if(r.limitType==="F")return g0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return g0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function km(r,e,n){return new jh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return gp(Ni(r),Ni(e))&&r.limitType===e.limitType}function Db(r){return`${pp(Ni(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Ib(o))).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=m0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ul(s),o)||s.endAt&&!(function(f,m,g){const y=m0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ul(s),o))})(r,e)}function jC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ob(r){return(e,n)=>{let s=!1;for(const o of Ul(r)){const u=zC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zC(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?oo(g,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return gb(this.inner)}size(){return this.innerSize}}const BC=new mt(_e.comparator);function dr(){return BC}const Mb=new mt(_e.comparator);function Ol(...r){let e=Mb;for(const n of r)e=e.insert(n.key,n);return e}function Vb(r){let e=Mb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return jl()}function kb(){return jl()}function jl(){return new ia((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qC=new mt(_e.comparator),HC=new Lt(_e.comparator);function Be(...r){let e=HC;for(const n of r)e=e.add(n);return e}const FC=new Lt(ze);function GC(){return FC}function _p(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function Pb(r){return{integerValue:""+r}}function YC(r,e){return _C(e)?Pb(e):_p(r,e)}class qh{constructor(){this._=void 0}}function QC(r,e,n){return r instanceof Sh?(function(o,u){const f={fields:{[vb]:{stringValue:_b},[bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dp(u)&&(u=Uh(u)),u&&(f.fields[Eb]=u),{mapValue:f}})(n,e):r instanceof Xl?Ub(r,e):r instanceof $l?jb(r,e):(function(o,u){const f=Lb(o,u),m=_0(f)+_0(o.Ae);return Om(f)&&Om(o.Ae)?Pb(m):_p(o.serializer,m)})(r,e)}function KC(r,e,n){return r instanceof Xl?Ub(r,e):r instanceof $l?jb(r,e):n}function Lb(r,e){return r instanceof wh?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Sh extends qh{}class Xl extends qh{constructor(e){super(),this.elements=e}}function Ub(r,e){const n=zb(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class $l extends qh{constructor(e){super(),this.elements=e}}function jb(r,e){let n=zb(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class wh extends qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _0(r){return bt(r.integerValue||r.doubleValue)}function zb(r){return mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function XC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof $l&&o instanceof $l?ao(s.elements,o.elements,Pi):s instanceof wh&&o instanceof wh?Pi(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,e.transform)}class $C{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function Bb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hb(r.key,Di.none()):new uu(r.key,r.data,Di.none());{const n=r.data,s=Bn.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new ii(o.toArray()),Di.none())}}function JC(r,e,n){r instanceof uu?(function(o,u,f){const m=o.value.clone(),g=E0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ra?(function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=E0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(qb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function zl(r,e,n,s){return r instanceof uu?(function(u,f,m,g){if(!ah(u.precondition,f))return m;const y=u.value.clone(),b=b0(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ra?(function(u,f,m,g){if(!ah(u.precondition,f))return m;const y=b0(u.fieldTransforms,g,f),b=f.data;return b.setAll(qb(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function ZC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Lb(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function v0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>XC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function E0(r,e,n){const s=new Map;Je(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,KC(f,m,n[o]))}return s}function b0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,QC(u,f,e))}return s}class Hb extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=kb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=Bb(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((n,s)=>v0(n,s)))&&ao(this.baseMutations,e.baseMutations,((n,s)=>v0(n,s)))}}class vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return qC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new vp(e,n,s,o)}}class tI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,He;function iI(r){switch(r){case ie.OK:return be(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Fb(r){if(r===void 0)return fr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Dt.OK:return ie.OK;case Dt.CANCELLED:return ie.CANCELLED;case Dt.UNKNOWN:return ie.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ie.INTERNAL;case Dt.UNAVAILABLE:return ie.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ie.NOT_FOUND;case Dt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Dt.ABORTED:return ie.ABORTED;case Dt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Dt.DATA_LOSS:return ie.DATA_LOSS;default:return be(39323,{code:r})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function rI(){return new TextEncoder}const sI=new rs([4294967295,4294967295],0);function T0(r){const e=rI().encode(r),n=new sb;return n.update(e),new Uint8Array(n.digest())}function S0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class Ep{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(sI)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T0(e),[s,o]=S0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ep(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=T0(e),[s,o]=S0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(we.min(),o,new mt(ze),dr(),Be())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Be(),Be(),Be())}}class oh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Gb{constructor(e,n){this.targetId=e,this.Ce=n}}class Yb{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class w0{constructor(){this.ve=0,this.Fe=A0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=A0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aI{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=Kc(),this.He=Kc(),this.Ye=new mt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new _e(u.path);this.et(n,f,tn.newNoDocument(f,we.min()))}else Je(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(g){if(g instanceof yb)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ep(f,o,u)}catch(g){return so(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Vm(m.target)){const g=new _e(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,tn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Be();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Fh(e,n,this.Ye,this.je,s);return this.je=dr(),this.Je=Kc(),this.He=Kc(),this.Ye=new mt(ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new w0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new mt(_e.comparator)}function A0(){return new mt(_e.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class cI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(r,e){return r.useProto3Json||Lh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hI(r,e){return Ah(r,e.toTimestamp())}function Oi(r){return Je(!!r,49232),we.fromTimestamp((function(n){const s=ls(n);return new ct(s.seconds,s.nanos)})(r))}function bp(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Kb(r){const e=ut.fromString(r);return Je(Wb(e),10190,{key:e.toString()}),e}function Um(r,e){return bp(r.databaseId,e.path)}function dm(r,e){const n=Kb(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e($b(n))}function Xb(r,e){return bp(r.databaseId,e)}function fI(r){const e=Kb(r);return e.length===4?ut.emptyPath():$b(e)}function jm(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $b(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x0(r,e,n){return{name:Um(r,e),fields:n.value.mapValue.fields}}function dI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Je(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?ie.UNKNOWN:Fb(y.code);return new pe(b,y.message||"")})(f);n=new Yb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):we.min(),m=new Bn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new oh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?Oi(s.readTime):we.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new nI(o,u),m=s.targetId;n=new Gb(m,f)}}return n}function mI(r,e){let n;if(e instanceof uu)n={update:x0(r,e.key,e.value)};else if(e instanceof Hb)n={delete:Um(r,e.key)};else if(e instanceof ra)n={update:x0(r,e.key,e.data),updateMask:SI(e.fieldMask)};else{if(!(e instanceof WC))return be(16599,{Vt:e.type});n={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function pI(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(we.min())&&(f=Oi(u)),new $C(f,o.transformResults||[])})(n,e)))):[]}function gI(r,e){return{documents:[Xb(r,e.path)]}}function yI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xb(r,o);const u=(function(y){if(y.length!==0)return Zb(Li.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(I){return{field:Xa(I.field),direction:EI(I.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function _I(r){let e=fI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(w){const I=Jb(w);return I instanceof Li&&Rb(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((I=>(function(K){return new Th($a(K.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let I;return I=typeof w=="object"?w.value:w,Lh(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(w){const I=!!w.before,U=w.values||[];return new bh(U,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const I=!w.before,U=w.values||[];return new bh(U,I)})(n.endAt)),PC(e,o,f,u,m,"F",g,y)}function vI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>Jb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function EI(r){return oI[r]}function bI(r){return lI[r]}function TI(r){return uI[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Xt.fromServerFormat(r.fieldPath)}function Zb(r){return r instanceof kt?(function(n){if(n.op==="=="){if(d0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(f0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(f0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:bI(n.op),value:n.value}}})(r):r instanceof Li?(function(n){const s=n.getFilters().map((o=>Zb(o)));return s.length===1?s[0]:{compositeFilter:{op:TI(n.op),filters:s}}})(r):be(54877,{filter:r})}function SI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Wb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class es{constructor(e,n,s,o,u=we.min(),f=we.min(),m=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wI{constructor(e){this.yt=e}}function AI(r){const e=_I({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(e,e.limit,"L"):e}class xI{constructor(){this.Cn=new RI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(os.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(ut.comparator)).toArray()}}const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(eT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const C0="LruGarbageCollector",CI=1048576;function I0([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class II{constructor(e){this.Ir=e,this.buffer=new Lt(I0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();I0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(C0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?he(C0,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Vr(3e5)}))}}class DI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Ph.ce);const s=new II(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(R0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(y=Date.now(),Qa()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function OI(r,e){return new DI(r,e)}class MI{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&zl(s.mutation,o,ii.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ol();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=dr();const f=jl(),m=(function(){return jl()})();return n.forEach(((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof ra)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),zl(b.mutation,y,b.mutation.getFieldMask(),ct.now())):f.set(y.key,ii.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new VI(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=jl();let o=new mt(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=s.get(g)||ii.empty();b=m.applyToLocalView(y,b),s.set(g,b);const w=(o.get(m.batchId)||Be()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,w=kb();b.forEach((I=>{if(!u.has(I)){const U=Bb(n.get(I),s.get(I));U!==null&&w.set(I,U),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Qs());let m=Gl,g=u;return f.next((y=>te.forEach(y,((b,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{g=g.insert(b,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Be()))).next((b=>({batchId:m,changes:Vb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const y=(function(w,I){return new jh(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((w,I)=>{f=f.insert(w,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,tn.newInvalidDocument(b)))}));let m=Ol();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&zl(b.mutation,y,ii.empty(),ct.now()),Bh(n,y)&&(m=m.insert(g,y))})),m}))}}class PI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:AI(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),te.resolve()}}class LI{constructor(){this.overlays=new mt(_e.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Qs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Qs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new tI(n,s));let u=this.qr.get(n);u===void 0&&(u=Be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class UI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Tp{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new ut([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ut([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Be();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class jI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?fp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ze);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new _e(u),0);let m=new Lt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zI{constructor(e){this.ri=e,this.docs=(function(){return new mt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||mC(dC(b),s)<=0||(o.has(b.key)||Bh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new BI(this)}getSize(e){return te.resolve(this.size)}}class BI extends MI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class qI{constructor(e){this.persistence=e,this.si=new ia((n=>pp(n)),gp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Tp,this.targetCount=0,this.ai=uo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class tT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new UI,this.referenceDelegate=e(this),this.Pi=new qI(this),this.indexManager=new xI,this.remoteDocumentCache=(function(o){return new zI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wI(n),this.Ii=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new jI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new HI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class HI extends gC{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Ri=new Tp,this.Vi=null}static mi(e){return new Sp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.pi=new ia((s=>vC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=OI(this,n)}static mi(e,n){return new xh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(e,n.fromCache,s,o)}}class FI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EA()?8:yC(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Qa()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Qa()<=je.DEBUG&&he("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Qa()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):te.resolve())}ys(e,n){if(y0(n))return te.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Be(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,km(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return y0(n)||o.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Qa()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.vs(e,f,n,fC(o,Gl)).next((m=>m)))}))}Ds(e,n){let s=new Lt(Ob(e));return n.forEach(((o,u)=>{Bh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Qa()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ap="LocalStore",YI=3e8;class QI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new mt(ze),this.xs=new ia((u=>pp(u)),gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function KI(r,e,n,s){return new QI(r,e,n,s)}async function nT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Be();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function XI(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const w=y.batch,I=w.keys();let U=te.resolve();return I.forEach((K=>{U=U.next((()=>b.getEntry(g,K))).next((Z=>{const F=y.docVersions.get(K);Je(F!==null,48541),Z.version.compareTo(F)<0&&(w.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),b.addEntry(Z)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function iT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $I(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,w)=>{const I=o.get(w);if(!I)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,w))));let U=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?U=U.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(b.resumeToken,s)),o=o.insert(w,U),(function(Z,F,$){return Z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=YI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(I,U,b)&&m.push(n.Pi.updateTargetData(u,U))}));let g=dr(),y=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(JI(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(we.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function JI(r,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=dr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function ZI(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WI(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function zm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!vo(f))throw f;he(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function N0(r,e,n){const s=Re(r);let o=we.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const w=Re(g),I=w.xs.get(b);return I!==void 0?te.resolve(w.Ms.get(I)):w.Pi.getTargetData(y,b)})(s,f,Ni(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Be()))).next((m=>(eN(s,jC(e),m),{documents:m,Qs:u})))))}function eN(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class D0{constructor(){this.activeTargetIds=GC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tN{constructor(){this.Mo=new D0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nN{Oo(e){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(O0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(O0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function Bm(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const mm="RestConnection",iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Bm(),m=this.zo(e,n.toUriEncodedString());he(mm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=mo(y);return this.Jo(e,m,g,s,b).then((w=>(he(mm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw so(mm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=iN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class sN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class aN extends rN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Bm();return new Promise(((m,g)=>{const y=new ab;y.setWithCredentials(!0),y.listenOnce(ob.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ih.NO_ERROR:const w=y.getResponseJson();he(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case ih.TIMEOUT:he(Wt,`RPC '${e}' ${f} timed out`),g(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const I=y.getStatus();if(he(Wt,`RPC '${e}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const K=U?.error;if(K&&K.status&&K.message){const Z=(function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(re)>=0?re:ie.UNKNOWN})(K.status);g(new pe(Z,K.message))}else g(new pe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Wt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);he(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=Bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=cb(),m=ub(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const b=u.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${b}`,g);const w=f.createWebChannel(b,g);this.I_(w);let I=!1,U=!1;const K=new sN({Yo:F=>{U?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(I||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Zo:()=>w.close()}),Z=(F,$,re)=>{F.listen($,(ae=>{try{re(ae)}catch(Te){setTimeout((()=>{throw Te}),0)}}))};return Z(w,Dl.EventType.OPEN,(()=>{U||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),Z(w,Dl.EventType.CLOSE,(()=>{U||(U=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(w))})),Z(w,Dl.EventType.ERROR,(F=>{U||(U=!0,so(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),K.a_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),Z(w,Dl.EventType.MESSAGE,(F=>{if(!U){const $=F.data[0];Je(!!$,16349);const re=$,ae=re?.error||re[0]?.error;if(ae){he(Wt,`RPC '${e}' stream ${o} received error:`,ae);const Te=ae.status;let Ce=(function(x){const C=Dt[x];if(C!==void 0)return Fb(C)})(Te),Se=ae.message;Ce===void 0&&(Ce=ie.INTERNAL,Se="Unknown error status: "+Te+" with message "+ae.message),U=!0,K.a_(new pe(Ce,Se)),w.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,$),K.u_($)}})),Z(m,lb.STAT_EVENT,(F=>{F.stat===Im.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Im.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function pm(){return typeof document<"u"?document:null}function Gh(r){return new cI(r,!0)}class rT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const V0="PersistentStream";class sT{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new pe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oN extends sT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Oi(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=jm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Vm(g)?{documents:gI(u,g)}:{query:yI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Qb(u,f.resumeToken);const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=vI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.q_(n)}}class lN extends sT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pI(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>mI(this.serializer,s)))};this.q_(n)}}class uN{}class cN extends uN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class fN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(he(ea,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Ra=new hN(s,o)}}async function Yh(r){if(sa(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function aT(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ip(n)?Cp(n):Eo(n).O_()&&Rp(n,e))}function xp(r,e){const n=Re(r),s=Eo(n);n.Ia.delete(e),s.O_()&&oT(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Rp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(r).Y_(e)}function oT(r,e){r.Va.Ue(e),Eo(r).Z_(e)}function Cp(r){r.Va=new aI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.Ra.ua()}function Ip(r){return sa(r)&&!Eo(r).x_()&&r.Ia.size>0}function sa(r){return Re(r).Ea.size===0}function lT(r){r.Va=void 0}async function dN(r){r.Ra.set("Online")}async function mN(r){r.Ia.forEach(((e,n)=>{Rp(r,e)}))}async function pN(r,e){lT(r),Ip(r)?(r.Ra.ha(e),Cp(r)):r.Ra.set("Unknown")}async function gN(r,e,n){if(r.Ra.set("Online"),e instanceof Yb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof Gb?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await iT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),oT(u,g);const w=new es(b.target,g,y,b.sequenceNumber);Rp(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ea,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!vo(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>iT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yh(r)}))}function uT(r,e){return e().catch((n=>Rh(r,n,e)))}async function Qh(r){const e=Re(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fp;for(;yN(e);)try{const o=await ZI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,_N(e,o)}catch(o){await Rh(e,o)}cT(e)&&hT(e)}function yN(r){return sa(r)&&r.Ta.length<10}function _N(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function cT(r){return sa(r)&&!hs(r).x_()&&r.Ta.length>0}function hT(r){hs(r).start()}async function vN(r){hs(r).ra()}async function EN(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function bN(r,e,n){const s=r.Ta.shift(),o=vp.from(s,e,n);await uT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Qh(r)}async function TN(r,e){e&&hs(r).X_&&await(async function(s,o){if((function(f){return iI(f)&&f!==ie.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await uT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(s)}})(r,e),cT(r)&&hT(r)}async function k0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),he(ea,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function SN(r,e){const n=Re(r);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Eo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new oN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:dN.bind(null,r),t_:mN.bind(null,r),r_:pN.bind(null,r),H_:gN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ip(r)?Cp(r):r.Ra.set("Unknown")):(await r.ma.stop(),lT(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new lN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vN.bind(null,r),r_:TN.bind(null,r),ta:EN.bind(null,r),na:bN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Qh(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Np{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Np(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(r,e){if(fr("AsyncQueue",`${e}: ${r}`),vo(r))return new pe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class P0{constructor(){this.ga=new mt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class co{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new co(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AN{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=L0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function L0(){return new ia((r=>Db(r)),zh)}async function fT(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dp(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Op(n)}async function dT(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Op(n)}function RN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Op(r){r.Ca.forEach((e=>{e.next()}))}var qm,U0;(U0=qm||(qm={})).Ma="default",U0.Cache="cache";class mT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}class pT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class CN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Ob(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new P0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,w)=>{const I=o.get(b),U=Bh(this.query,w)?w:null,K=!!I&&this.mutatedKeys.has(I.key),Z=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let F=!1;I&&U?I.data.isEqual(U.data)?K!==Z&&(s.track({type:3,doc:U}),F=!0):this.su(I,U)||(s.track({type:2,doc:U}),F=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(m=!0)):!I&&U?(s.track({type:0,doc:U}),F=!0):I&&!U&&(s.track({type:1,doc:I}),F=!0,(g||y)&&(m=!0)),F&&(U?(f=f.add(U),u=Z?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,w)=>(function(U,K){const Z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:F})}};return Z(U)-Z(K)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new co(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new gT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new pT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mp="SyncEngine";class IN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NN{constructor(e){this.key=e,this.hu=!1}}class DN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>Db(m)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new mt(_e.comparator),this.Au=new Map,this.Ru=new Tp,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ON(r,e,n=!0){const s=TT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yT(s,e,n,!0),o}async function MN(r,e){const n=TT(r);await yT(n,e,!0,!1)}async function yT(r,e,n,s){const o=await WI(r.localStore,Ni(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&aT(r.remoteStore,o),m}async function VN(r,e,n,s,o){r.pu=(w,I,U)=>(async function(Z,F,$,re){let ae=F.view.ru($);ae.Cs&&(ae=await N0(Z.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,ae))));const Te=re&&re.targetChanges.get(F.targetId),Ce=re&&re.targetMismatches.get(F.targetId)!=null,Se=F.view.applyChanges(ae,Z.isPrimaryClient,Te,Ce);return z0(Z,F.targetId,Se.au),Se.snapshot})(r,w,I,U);const u=await N0(r.localStore,e,!0),f=new CN(e,u.Qs),m=f.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);z0(r,n,y.au);const b=new IN(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function kN(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!zh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(_o)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function PN(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xp(n.remoteStore,s.targetId))}async function LN(r,e,n){const s=FN(r);try{const o=await(function(f,m){const g=Re(f),y=ct.now(),b=m.reduce(((U,K)=>U.add(K.key)),Be());let w,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let K=dr(),Z=Be();return g.Ns.getEntries(U,b).next((F=>{K=F,K.forEach((($,re)=>{re.isValidDocument()||(Z=Z.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,K))).next((F=>{w=F;const $=[];for(const re of m){const ae=ZC(re,w.get(re.key).overlayedDocument);ae!=null&&$.push(new ra(re.key,ae,wb(ae.value.mapValue),Di.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,$,m)})).next((F=>{I=F;const $=F.applyToLocalDocumentSet(w,Z);return g.documentOverlayCache.saveOverlays(U,F.batchId,$)}))})).then((()=>({batchId:I.batchId,changes:Vb(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new mt(ze)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await fu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Dp(o,"Failed to persist write");n.reject(u)}}async function _T(r,e){const n=Re(r);try{const s=await $I(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await _o(s)}}function j0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Re(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,w)=>{for(const I of w.Sa)I.va(m)&&(y=!0)})),y&&Op(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new mt(_e.comparator);f=f.insert(u,tn.newNoDocument(u,we.min()));const m=Be().add(u),g=new Fh(we.min(),new Map,new mt(ze),f,m);await _T(s,g),s.du=s.du.remove(u),s.Au.delete(e),Vp(s)}else await zm(s.localStore,e,!1).then((()=>Hm(s,e,n))).catch(_o)}async function jN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await XI(n.localStore,e);ET(n,s,null),vT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await _o(o)}}async function zN(r,e,n){const s=Re(r);try{const o=await(function(f,m){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((w=>(Je(w!==null,37113),b=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);ET(s,e,n),vT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await _o(o)}}function vT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ET(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||bT(r,s)}))}function bT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(xp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Vp(r))}function z0(r,e,n){for(const s of n)s instanceof pT?(r.Ru.addReference(s.key,e),BN(r,s)):s instanceof gT?(he(Mp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||bT(r,s.key)):be(19791,{wu:s})}function BN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Mp,"New document in limbo: "+n),r.Eu.add(s),Vp(r))}function Vp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(ut.fromString(e)),s=r.fu.next();r.Au.set(s,new NN(n)),r.du=r.du.insert(n,s),aT(r.remoteStore,new es(Ni(yp(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function fu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=wp.As(g.targetId,y);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const b=Re(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(y,(I=>te.forEach(I.Es,(U=>b.persistence.referenceDelegate.addReference(w,I.targetId,U))).next((()=>te.forEach(I.ds,(U=>b.persistence.referenceDelegate.removeReference(w,I.targetId,U)))))))))}catch(w){if(!vo(w))throw w;he(Ap,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const U=b.Ms.get(I),K=U.snapshotVersion,Z=U.withLastLimboFreeSnapshotVersion(K);b.Ms=b.Ms.insert(I,Z)}}})(s.localStore,u))}async function qN(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){he(Mp,"User change. New user:",e.toKey());const s=await nT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new pe(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function HN(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function TT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.Pu.H_=xN.bind(null,e.eventManager),e.Pu.yu=RN.bind(null,e.eventManager),e}function FN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KI(this.persistence,new GI,e.initialUser,this.serializer)}Cu(e){return new tT(Sp.mi,this.serializer)}Du(e){return new tN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class GN extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new tT((s=>xh.mi(s,n)),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>j0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AN})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=(function(u){return new aN(u)})(e.databaseInfo);return(function(u,f,m,g){return new cN(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new fN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>j0(this.syncEngine,n,0)),(function(){return M0.v()?new M0:new nN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,b){const w=new DN(o,u,f,m,g,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);he(ea,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class YN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Dp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),he(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await nT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function B0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await QN(r);he(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>k0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>k0(e.remoteStore,o))),r._onlineComponents=e}async function QN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(fs,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new Ch)}}else he(fs,"Using default OfflineComponentProvider"),await gm(r,new GN(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(fs,"Using user provided OnlineComponentProvider"),await B0(r,r._uninitializedComponentsProvider._online)):(he(fs,"Using default OnlineComponentProvider"),await B0(r,new Fm))),r._onlineComponents}function KN(r){return wT(r).then((e=>e.syncEngine))}async function AT(r){const e=await wT(r),n=e.eventManager;return n.onListen=ON.bind(null,e.syncEngine),n.onUnlisten=kN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PN.bind(null,e.syncEngine),n}function XN(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new ST({next:I=>{b.Nu(),f.enqueueAndForget((()=>dT(u,w)));const U=I.docs.has(m);!U&&I.fromCache?y.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&I.fromCache&&g&&g.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new mT(yp(m.path),b,{includeMetadataChanges:!0,qa:!0});return fT(u,w)})(await AT(r),r.asyncQueue,e,n,s))),s.promise}function $N(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new ST({next:I=>{b.Nu(),f.enqueueAndForget((()=>dT(u,w))),I.fromCache&&g.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new mT(m,b,{includeMetadataChanges:!0,qa:!0});return fT(u,w)})(await AT(r),r.asyncQueue,e,n,s))),s.promise}function xT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const q0=new Map;const RT="firestore.googleapis.com",H0=!0;class F0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=H0}else this.host=e.host,this.ssl=e.ssl??H0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CI)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tC;switch(s.type){case"firstParty":return new sC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=q0.get(n);s&&(he("ComponentProvider","Removing Datastore"),q0.delete(n),s.terminate())})(this),Promise.resolve()}}function JN(r,e,n,s={}){r=as(r,Kh);const o=mo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(yE(`https://${m}`),_E("Firestore",!0)),u.host!==RT&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=en.MOCK_USER;else{y=hA(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new en(w)}r._authCredentials=new nC(new fb(y,b))}}class Xh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,Pt._jsonSchema))return new Pt(e,s||null,new _e(ut.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Ot("string",Pt._jsonSchemaVersion),referencePath:Ot("string")};class ss extends Xh{constructor(e,n,s){super(e,n,yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new _e(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function $c(r,e,...n){if(r=yn(r),db("collection","path",e),r instanceof Kh){const s=ut.fromString(e,...n);return r0(s),new ss(r,null,s)}{if(!(r instanceof Pt||r instanceof ss))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return r0(s),new ss(r.firestore,null,s)}}function Gm(r,e,...n){if(r=yn(r),arguments.length===1&&(e=cp.newId()),db("doc","path",e),r instanceof Kh){const s=ut.fromString(e,...n);return i0(s),new Pt(r,null,new _e(s))}{if(!(r instanceof Pt||r instanceof ss))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return i0(s),new Pt(r.firestore,r instanceof ss?r.converter:null,new _e(s))}}const G0="AsyncQueue";class Y0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&he(G0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;he(G0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",Q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Np.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class du extends Kh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Y0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y0(e),this._firestoreClient=void 0,await e}}}function ZN(r,e){const n=typeof r=="object"?r:TE(),s=typeof r=="string"?r:vh,o=ep(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uA("firestore");u&&JN(o,...u)}return o}function kp(r){if(r._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WN(r),r._firestoreClient}function WN(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new TC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new YN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn($t.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ot("string",qn._jsonSchemaVersion),bytes:Ot("string")};class Pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class CT{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ot("string",Vi._jsonSchemaVersion),vectorValues:Ot("object")};const e4=/^__.*__$/;class t4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function IT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class Lp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IT(this.Ac)&&e4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}Cc(e,n,s,o=!1){return new Lp({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new n4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function DT(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);kT("Data must be an object, but it was:",f,s);const m=MT(s,f);let g,y;if(u.merge)g=new ii(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const I=i4(e,w,n);if(!f.contains(I))throw new pe(ie.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);s4(b,I)||b.push(I)}g=new ii(b),y=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=f.fieldTransforms;return new t4(new Bn(m),g,y)}function OT(r,e){if(VT(r=yn(r)))return kT("Unsupported field value:",e,r),MT(r,e);if(r instanceof CT)return(function(s,o){if(!IT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=OT(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ct.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof ct){const u=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Qb(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,m){return{mapValue:{fields:{[Tb]:{stringValue:Sb},[Eh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return _p(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${hp(s)}`)})(r,e)}function MT(r,e){const n={};return gb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(r,((s,o)=>{const u=OT(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function VT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ct||r instanceof Mi||r instanceof qn||r instanceof Pt||r instanceof CT||r instanceof Vi)}function kT(r,e,n){if(!VT(n)||!mb(n)){const s=hp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function i4(r,e,n){if((e=yn(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return PT(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const r4=new RegExp("[~\\*/\\[\\]]");function PT(r,e,n){if(e.search(r4)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Pp(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new pe(ie.INVALID_ARGUMENT,m+r+g)}function s4(r,e){return r.some((n=>n.isEqual(e)))}class LT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a4 extends LT{data(){return super.data()}}function UT(r,e){return typeof e=="string"?PT(r,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}function o4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l4{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return na(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Je(Wb(s),9688,{name:e});const o=new Ql(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function jT(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends LT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(UT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ot("string",Ks._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class lh extends Ks{data(e={}){return super.data(e)}}class io{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:u4(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}function c4(r){r=as(r,Pt);const e=as(r.firestore,du);return XN(kp(e),r._key).then((n=>d4(e,r,n)))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Ot("string",io._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class zT extends l4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function h4(r){r=as(r,Xh);const e=as(r.firestore,du),n=kp(e),s=new zT(e);return o4(r._query),$N(n,r._query).then((o=>new io(e,s,r,o)))}function f4(r,e,n){r=as(r,Pt);const s=as(r.firestore,du),o=jT(r.converter,e,n);return BT(s,[DT(NT(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Di.none())])}function ym(r,e){const n=as(r.firestore,du),s=Gm(r),o=jT(r.converter,e);return BT(n,[DT(NT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then((()=>s))}function BT(r,e){return(function(s,o){const u=new lr;return s.asyncQueue.enqueueAndForget((async()=>LN(await KN(s),o,u))),u.promise})(kp(r),e)}function d4(r,e,n){const s=n.docs.get(e._key),o=new zT(r);return new Ks(r,o,e._key,s,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})(po),ro(new $s("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new du(new iC(s.getProvider("auth-internal")),new aC(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(Wv,e0,e),is(Wv,e0,"esm2020")})();const m4={apiKey:"AIzaSyCF8FcSQyu9FwmL5VyD70Jxh_yj_C0Zsv8",authDomain:"veinsofdrop.firebaseapp.com",projectId:"veinsofdrop",storageBucket:"veinsofdrop.firebasestorage.app",messagingSenderId:"989711121423",appId:"1:989711121423:web:05dab0d932b898a276777a",measurementId:"G-94DRZHW1DS"},Up=bE(m4),Jl=JR(Up),Za=ZN(Up);Jl?console.log("Firebase Auth initialized successfully"):console.error("Firebase Auth failed to initialize");const qT=Ve.createContext({}),$h=()=>{const r=Ve.useContext(qT);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},p4=({children:r})=>{const[e,n]=Ve.useState(null),[s,o]=Ve.useState(!0),[u,f]=Ve.useState(null);Ve.useEffect(()=>{const y=jx(Jl,b=>{n(b),o(!1),f(null)},b=>{console.error("Auth state change error:",b),f(b),o(!1)});return()=>y()},[]);const g={currentUser:e,loading:s,error:u,signOut:async()=>{try{return await zx(Jl),n(null),{success:!0}}catch(y){return console.error("Sign out error:",y),{success:!1,error:y.message}}},isAuthenticated:!!e};return E.jsxs(qT.Provider,{value:g,children:[!s&&r,s&&E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafa]",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#db2b2b]"}),E.jsx("p",{className:"mt-4 text-[#142323]",children:"Loading..."})]})})]})};function g4(){const{currentUser:r,signOut:e,isAuthenticated:n}=$h(),s=eu(),o=ds(),[u,f]=Ve.useState([]),[m,g]=Ve.useState(!0),[y,b]=Ve.useState(!1),[w,I]=Ve.useState(!1),[U,K]=Ve.useState(""),[Z,F]=Ve.useState(r?.email||""),[$,re]=Ve.useState(""),[ae,Te]=Ve.useState(""),[Ce,Se]=Ve.useState(""),[R,x]=Ve.useState(0),[C,k]=Ve.useState(""),[O,L]=Ve.useState(""),[N,Ke]=Ve.useState(r?.email||""),[at,Y]=Ve.useState(""),[se,ge]=Ve.useState(""),[Me,Fe]=Ve.useState("normal"),[T,M]=Ve.useState(""),X=async()=>{g(!0);try{const ce=$c(Za,"donors"),rn=(await h4(ce)).docs.map(Hn=>({id:Hn.id,...Hn.data()}));f(rn)}catch(ce){console.error("Error fetching donors:",ce)}g(!1)};Ve.useEffect(()=>{n&&(X(),r?.email&&(F(r.email),Ke(r.email))),console.log("Current path:",o.pathname)},[n,r,o]);const ee=u.filter(ce=>ce.email!==r?.email),le=()=>{u.some(Jt=>Jt.email===r?.email)?alert("You are already registered as a donor with this email."):b(!0)},ue=async ce=>{const Jt="Urgent: Blood Donation Request via veinsofDrop",rn=`Hello ${ce.name},%0D%0A%0D%0AI found your profile on veinsofDrop and I am in need of ${ce.bloodGroup} blood donation.%0D%0A%0D%0ALocation: ${ce.location}%0D%0A%0D%0APlease let me know if you are available to help.%0D%0A%0D%0ARequested by: ${r?.email}`;window.location.href=`mailto:${ce.email}?subject=${Jt}&body=${rn}`;try{await ym($c(Za,"contact_requests"),{requesterEmail:r?.email,requesterUid:r?.uid,donorName:ce.name,donorEmail:ce.email,donorUid:ce.userId||"unknown",requestDate:new Date,status:"initiated"}),console.log("Contact request logged in database.")}catch(Hn){console.error("Error logging contact request:",Hn)}},de=async()=>{(await e()).success&&s("/login")},Ge=async ce=>{if(ce.preventDefault(),$.length!==10||isNaN($)){alert("Please enter a valid 10-digit phone number.");return}if(u.some(rn=>rn.email===Z||rn.phone===$)){alert("Registration Failed: A donor with this Email or Phone Number already exists.");return}try{await ym($c(Za,"donors"),{name:U,email:Z,phone:$,bloodGroup:ae,location:Ce,availablequantity:R,userId:r?.uid||"anonymous",createdAt:new Date}),alert("Thank you! You are now registered as a donor."),X(),b(!1),K(""),re(""),Te(""),Se(""),x(0)}catch(rn){console.error("Error adding donor: ",rn),alert("Failed to submit. See console for details.")}},De=async ce=>{if(ce.preventDefault(),at.length!==10||isNaN(at)){alert("Please enter a valid 10-digit phone number.");return}try{await ym($c(Za,"requests"),{patientName:C,bloodGroup:O,requestEmail:N,requestPhone:at,unitsRequired:se,emergencyLevel:Me,hospitalLocation:T,userId:r?.uid||"anonymous",status:"pending",createdAt:new Date}),console.log("Request submitted to database"),alert("Blood request submitted successfully!"),I(!1),k(""),L(""),Y(""),ge(""),M("")}catch(Jt){console.error("Error submitting request: ",Jt),alert("Failed to submit request.")}};return E.jsxs("div",{className:"m-0 p-0 font-sans bg-[#e6fffb] text-[#9ab3b3] leading-relaxed min-h-screen",children:[E.jsx("aside",{className:"fixed top-1/2 left-4 -translate-y-1/2 flex flex-col gap-3 z-50"}),E.jsx("header",{className:"bg-gradient-to-r from-[rgb(191,203,203)] to-[rgb(219,43,43)] text-white",children:E.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 flex flex-col sm:flex-row items-center justify-between py-3 gap-2 sm:gap-0 relative",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:"/assets/logo.png",alt:"veinsofDrop logo",className:"h-11 w-auto block rounded-md"}),E.jsx("h1",{className:"m-0 text-xl font-bold"})]}),E.jsxs("div",{className:"md:hidden flex gap-2",children:[E.jsx("button",{onClick:le,className:"text-white hover:text-red-700 font-semibold text-sm px-2 py-1",type:"button",children:"Donor"}),E.jsx("button",{onClick:()=>I(!0),className:"text-white hover:text-red-700 font-semibold text-sm px-2 py-1",type:"button",children:"Request"})]}),E.jsx("nav",{"aria-label":"Main navigation",className:"absolute left-1/2 transform -translate-x-1/2 hidden md:block",children:E.jsxs("ul",{className:"flex gap-4",children:[E.jsx("li",{children:E.jsx(gn,{to:"/",className:`font-semibold transition-colors ${o.pathname==="/"?"text-white font-bold":"text-gray-100 hover:text-red-700"}`,children:"Home"})}),E.jsx("li",{children:E.jsx(gn,{to:"/profile",className:`font-semibold transition-colors ${o.pathname==="/profile"?"text-white font-bold":"text-gray-100 hover:text-red-700"}`,children:"Profile"})}),E.jsx("li",{children:E.jsx("button",{onClick:le,className:"text-white hover:text-red-700 font-semibold bg-transparent border-none cursor-pointer p-0",type:"button",children:"Become a donor"})}),E.jsx("li",{children:E.jsx("button",{onClick:()=>I(!0),className:"text-white hover:text-red-700 font-semibold bg-transparent border-none cursor-pointer p-0",type:"button",children:"Request for Blood"})})]})}),E.jsx("div",{className:"flex items-center gap-3 mt-2 sm:mt-0",children:n?E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"text-white text-sm",children:["Welcome, ",r?.email]}),E.jsx("button",{onClick:de,className:"px-4 py-2 rounded-lg bg-white text-[#db2b2b] font-semibold shadow-md hover:shadow-lg transition-transform transform hover:-translate-y-0.5",children:"Logout"})]}):E.jsxs(E.Fragment,{children:[E.jsx(gn,{to:"/register",className:"px-4 py-2 rounded-lg bg-white text-[#db2b2b] font-semibold shadow-md hover:shadow-lg transition-transform transform hover:-translate-y-0.5",children:"Register"}),E.jsx(gn,{to:"/login",className:"px-4 py-2 rounded-lg bg-[#db2b2b] text-white font-semibold shadow-md hover:shadow-lg transition-transform transform hover:-translate-y-0.5",children:"Login"})]})})]})}),E.jsx("main",{className:"max-w-[1400px] mx-auto px-4 py-10",children:n?E.jsxs("section",{className:"bg-white p-7 rounded-lg shadow-lg",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[E.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Available Donors"}),E.jsx("button",{onClick:X,className:"bg-gray-200 text-gray-700 text-sm px-4 py-2 rounded-lg hover:bg-gray-300 transition",children:"Refresh List"})]}),E.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:"Availability of donors nearby"}),m?E.jsx("div",{className:"text-center py-10",children:E.jsx("p",{className:"text-gray-500 text-lg",children:"Loading donor data..."})}):ee.length===0?E.jsx("div",{className:"text-center py-10",children:E.jsx("p",{className:"text-gray-500",children:"No other donors available yet. Be the first to donate!"})}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("td",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"DONOR NAME"}),E.jsx("td",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"EMAIL"}),E.jsx("td",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"CONTACT"}),E.jsx("td",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600  uppercase tracking-wider",children:"BLOOD TYPE"}),E.jsx("td",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"LOCATION"}),E.jsx("td",{className:"px-6 py-3 text-left text-xs font-medium  text-gray-600 uppercase tracking-wider",children:"AVAILABLE QUANTITY"}),E.jsx("td",{className:"px-6 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"REQUEST"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map((ce,Jt)=>E.jsxs("tr",{children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("div",{className:"flex items-center",children:E.jsxs("div",{className:"ml-4",children:[E.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.name}),ce.email&&ce.email.includes("example")&&E.jsx("span",{className:"text-xs font-semibold text-green-600 bg-green-100 px-2 py-0.5 rounded-full inline-block mt-0.5",children:"Verified"})]})})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("div",{className:"text-sm text-gray-900",children:ce.email})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("div",{className:"text-sm text-gray-900",children:ce.phone})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${ce.bloodGroup&&ce.bloodGroup.includes("+"),"bg-red-100 text-red-700"}`,children:ce.bloodGroup})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ce.location}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ce.availablequantity}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:E.jsx("button",{onClick:()=>ue(ce),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#db2b2b] hover:bg-[#c02525] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#db2b2b]",children:"Request"})})]},ce.id||Jt))})]})})]}):E.jsxs("div",{className:"space-y-16",children:[E.jsxs("section",{className:"flex flex-col-reverse md:flex-row items-center justify-between gap-10 py-10",children:[E.jsxs("div",{className:"flex-1 space-y-6",children:[E.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-[#db2b2b] leading-tight",children:["Donate Blood ",E.jsx("br",{}),E.jsx("span",{className:"text-[#db2b2b]",children:"save a life."})]}),E.jsx("p",{className:"text-lg text-gray-600 max-w-lg",children:"Every drop counts. Join our community of heroes. Connect directly with those in need and make a difference in minutes."}),E.jsxs("div",{className:"flex gap-4 pt-4",children:[E.jsx("button",{onClick:le,className:"px-8 py-3 bg-white text-[#db2b2b] border-2 border-[#db2b2b] rounded-full font-bold hover:bg-red-50 transition",children:"Donate Now"}),E.jsx("button",{onClick:()=>I(!0),className:"px-8 py-3 bg-white text-[#db2b2b] border-2 border-[#db2b2b] rounded-full font-bold hover:bg-red-50 transition",children:"Find Blood"})]})]}),E.jsx("div",{className:"flex-1 flex justify-center",children:E.jsx("img",{src:"https://img.freepik.com/free-vector/blood-donation-concept-illustration_114360-1044.jpg",alt:"Blood Donation Illustration",className:"w-full max-w-md rounded-xl shadow-2xl"})})]}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[E.jsxs("div",{className:"bg-white p-6",children:[E.jsx("h3",{className:"text-4xl font-bold text-[#db2b2b] mb-2",children:"100+"}),E.jsx("p",{className:"text-gray-600 font-medium",children:"Donors Registered"})]}),E.jsxs("div",{className:"bg-white p-6",children:[E.jsx("h3",{className:"text-4xl font-bold text-[#db2b2b] mb-2",children:"70+"}),E.jsx("p",{className:"text-gray-600 font-medium",children:"Lives Saved"})]}),E.jsxs("div",{className:"bg-white p-6",children:[E.jsx("h3",{className:"text-4xl font-bold text-[#db2b2b] mb-2",children:"24*7"}),E.jsx("p",{className:"text-gray-600 font-medium",children:"Emergency Support"})]})]})]})}),y&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",onClick:()=>b(!1),children:E.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full p-6 relative",onClick:ce=>ce.stopPropagation(),children:[E.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""}),E.jsx("h2",{className:"text-xl font-bold",children:"Become a Donor"}),E.jsx("h3",{className:"text-xl font-bold",children:"Thankyou For Saving a Life"}),E.jsxs("form",{onSubmit:Ge,children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your full name",value:U,onChange:ce=>K(ce.target.value),required:!0})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),E.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your email",value:Z,onChange:ce=>F(ce.target.value),required:!0})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),E.jsx("input",{type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your phone number (10 digits)",value:$,onChange:ce=>re(ce.target.value),required:!0})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type"}),E.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",value:ae,onChange:ce=>Te(ce.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Select blood type"}),E.jsx("option",{value:"A+",children:"A+"}),E.jsx("option",{value:"A-",children:"A-"}),E.jsx("option",{value:"B+",children:"B+"}),E.jsx("option",{value:"B-",children:"B-"}),E.jsx("option",{value:"AB+",children:"AB+"}),E.jsx("option",{value:"AB-",children:"AB-"}),E.jsx("option",{value:"O+",children:"O+"}),E.jsx("option",{value:"O-",children:"O-"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your city",value:Ce,onChange:ce=>Se(ce.target.value),required:!0})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availabale Quantity"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter Quantity",value:R,onChange:ce=>x(ce.target.value),required:!0})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),E.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#db2b2b] text-white rounded-lg font-semibold hover:bg-[#c02525] transition-colors",children:"Submit"})]})]})]})}),w&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",onClick:()=>I(!1),children:E.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:ce=>ce.stopPropagation(),children:E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Request for Blood"}),E.jsx("h3",{className:"text-xl font-bold",children:"Always Available For You"})]}),E.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold leading-none",children:""})]}),E.jsxs("form",{className:"space-y-4",onSubmit:De,children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient Name ",E.jsx("span",{className:"text-red-500"})]}),E.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded",placeholder:"Enter patient's name",value:C,onChange:ce=>k(ce.target.value)})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Blood Group ",E.jsx("span",{className:"text-red-500"})]}),E.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded",onChange:ce=>L(ce.target.value),value:O,children:[E.jsx("option",{value:"",children:"Select blood type"}),E.jsx("option",{value:"A+",children:"A+"}),E.jsx("option",{value:"A-",children:"A-"}),E.jsx("option",{value:"B+",children:"B+"}),E.jsx("option",{value:"B-",children:"B-"}),E.jsx("option",{value:"AB+",children:"AB+"}),E.jsx("option",{value:"AB-",children:"AB-"}),E.jsx("option",{value:"O+",children:"O+"}),E.jsx("option",{value:"O-",children:"O-"})]})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" Contact Email ",E.jsx("span",{className:"text-red-500"})]}),E.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded",placeholder:"Enter email",value:N,onChange:ce=>Ke(ce.target.value)})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" Phone No. ",E.jsx("span",{className:"text-red-500"})]}),E.jsx("input",{type:"tel",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded",placeholder:"Enter phone number (10 digits)",value:at,onChange:ce=>Y(ce.target.value)})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["How much blood required ",E.jsx("span",{className:"text-red-500"})]}),E.jsx("input",{required:!0,type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded",placeholder:"Enter number of units",value:se,onChange:ce=>ge(ce.target.value)})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["How much Emergency ",E.jsx("span",{className:"text-red-500"})]}),E.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded",value:Me,onChange:ce=>Fe(ce.target.value),children:[E.jsx("option",{value:"normal",children:"Normal"}),E.jsx("option",{value:"urgent",children:"Urgent"}),E.jsx("option",{value:"critical",children:"Critical"})]})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hospital & Location ",E.jsx("span",{className:"text-red-500"})]}),E.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded",placeholder:"Enter hospital name and city",value:T,onChange:ce=>M(ce.target.value)})]}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Cancel"}),E.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#db2b2b] text-white rounded-lg font-semibold hover:bg-[#c02525] transition-colors",children:"Submit Request"})]})]})]})})})]})}function y4(){const r=eu(),{currentUser:e}=$h(),[n,s]=Ve.useState({email:"",password:"",remember:!1}),[o,u]=Ve.useState(""),[f,m]=Ve.useState(!1);Ve.useEffect(()=>{e&&r("/")},[e,r]);const g=b=>{const{name:w,value:I,type:U,checked:K}=b.target;s(Z=>({...Z,[w]:U==="checkbox"?K:I})),o&&u("")},y=async b=>{b.preventDefault(),u(""),m(!0);try{const w=await Px(Jl,n.email,n.password);console.log("User logged in successfully:",w.user.email),r("/")}catch(w){switch(w.code){case"auth/user-not-found":u("No account found with this email address. Please check your email or register for a new account.");break;case"auth/wrong-password":u('Incorrect password. Please try again or use "Forgot password?" to reset it.');break;case"auth/invalid-email":u("Invalid email address format. Please check your email and try again.");break;case"auth/user-disabled":u("This account has been disabled. Please contact support for assistance.");break;case"auth/too-many-requests":u("Too many failed login attempts. Please wait a few minutes and try again.");break;case"auth/network-request-failed":u("Network error. Please check your internet connection and try again.");break;case"auth/operation-not-allowed":u("Email/Password authentication is not enabled in Firebase Console. Please enable it: 1) Go to Firebase Console  2) Select your project  3) Click Authentication  4) Go to Sign-in method tab  5) Click Email/Password  6) Enable it  7) Click Save"),console.warn("Email/Password authentication not enabled in Firebase Console");break;default:w.message&&(w.message.includes("network")||w.message.includes("ERR_CONNECTION"))?(u("Connection error. Please check: 1) Email/Password is enabled in Firebase Console (Authentication  Sign-in method  Email/Password), 2) Your internet connection, 3) Try again in a few moments."),console.warn("Network error during login:",w.message)):w.code?(console.error("Unexpected login error:",w),u(`Failed to sign in. ${w.message||"Please try again or contact support."}`)):(u("Connection error. Please check: 1) Email/Password is enabled in Firebase Console, 2) Your internet connection."),console.warn("Login error without code:",w.message))}}finally{m(!1)}};return E.jsxs("div",{className:"min-h-screen relative bg-[#f8fafa] text-[#244141]",children:[E.jsxs("div",{className:"fixed inset-0 overflow-hidden z-0","aria-hidden":"true",children:[E.jsx("div",{className:"absolute w-[60vmax] h-[60vmax] rounded-full blur-[80px] opacity-60 plasma-gradient-bg-2",style:{background:"radial-gradient(circle at center, rgba(255, 229, 229, 0.7), rgba(219, 43, 43, 0.35), rgba(36, 65, 65, 0.65))",top:"-18vmax",right:"-12vmax"}}),E.jsx("div",{className:"absolute w-[60vmax] h-[60vmax] rounded-full blur-[80px] opacity-60 plasma-gradient-bg-1",style:{background:"radial-gradient(circle at center, rgba(219, 43, 43, 0.55), rgba(71, 2, 23, 0.85))",bottom:"-20vmax",left:"-20vmax"}})]}),E.jsx("div",{className:"fixed inset-0 opacity-70 pointer-events-none z-0",style:{backgroundImage:`
            linear-gradient(rgba(219, 43, 43, 0.08) 1px, transparent 1px),
            linear-gradient(90deg, rgba(219, 43, 43, 0.06) 1px, transparent 1px)
          `,backgroundSize:"80px 80px",maskImage:"radial-gradient(circle at center, rgba(0,0,0,0.7), rgba(0,0,0,0))"},"aria-hidden":"true"}),E.jsx("header",{className:"relative z-10",children:E.jsxs("nav",{className:"max-w-6xl mx-auto px-6 py-6 flex items-center justify-between",children:[E.jsxs(gn,{to:"/",className:"flex items-center gap-3 text-[#142323] font-semibold tracking-wide hover:opacity-80 transition-opacity",children:[E.jsx("img",{src:"/assets/logo.png",alt:"veinsofDrop",className:"w-11 h-11 rounded-xl shadow-lg shadow-[#db2b2b]/20"}),E.jsx("span",{children:"veinsofDrop"})]}),E.jsxs(gn,{to:"/register",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-[#db2b2b] text-white font-medium shadow-lg shadow-[#db2b2b]/20 hover:-translate-y-0.5 transition-transform",children:["Become a donor",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]})]})}),E.jsx("main",{className:"relative z-10 max-w-6xl mx-auto px-6 pb-16",children:E.jsxs("section",{className:"grid gap-12 lg:grid-cols-[1.05fr_1fr] items-center min-h-[calc(100vh-200px)]",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-white/80 text-[#db2b2b] text-sm font-medium shadow shadow-[#db2b2b]/10",children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-[#db2b2b] animate-ping"}),"Welcome back, hero"]}),E.jsx("h1",{className:"text-4xl sm:text-5xl font-semibold leading-tight text-[#142323]",children:"Log in to track donations and respond to urgent calls faster."}),E.jsx("p",{className:"text-lg text-[#142323]/75 max-w-2xl",children:"Your dashboard connects you to nearby hospitals, requests from families in need, and your personal impact timeline. Stay ready to respond when every second matters."}),E.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[E.jsxs("div",{className:"bg-white/70 border border-white/60 rounded-3xl p-6 shadow-[0_30px_60px_-35px_rgba(20,35,35,0.6)] float-animation backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-11 h-11 rounded-full bg-[#db2b2b]/10 grid place-items-center text-[#db2b2b] font-semibold",children:"A+"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:"Riya, Mumbai"}),E.jsx("p",{className:"text-xs text-[#142323]/60",children:"Donor since 2022"})]})]}),E.jsx("p",{className:"text-sm text-[#142323]/70",children:'"veinsofDrop alerted me to an emergency barely 10 minutes away. Logged in, confirmed, and helped a young thalassemia patient. It felt seamless."'})]}),E.jsxs("div",{className:"bg-white/70 border border-white/60 rounded-3xl p-6 shadow-[0_30px_60px_-35px_rgba(20,35,35,0.6)] float-animation-delayed backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-11 h-11 rounded-full bg-[#db2b2b]/10 grid place-items-center text-[#db2b2b] font-semibold",children:"O-"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:"Ethan, Delhi"}),E.jsx("p",{className:"text-xs text-[#142323]/60",children:"First-time donor"})]})]}),E.jsx("p",{className:"text-sm text-[#142323]/70",children:'"The app guided me through everythingfrom matching to post-donation care tips. Logging in keeps me connected to the community."'})]})]})]}),E.jsxs("form",{onSubmit:y,className:"relative bg-white/80 border border-white/70 rounded-3xl shadow-[0_38px_80px_-35px_rgba(219,43,43,0.55)] p-8 space-y-6 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-2xl font-semibold text-[#142323]",children:"Welcome back"}),E.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#db2b2b]/10 text-[#db2b2b] text-xs font-medium",children:["Secure Access",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:E.jsx("path",{fillRule:"evenodd",d:"M16.5 2.25a.75.75 0 0 1 .75.75v1.5h.75a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 18 22.5H6a2.25 2.25 0 0 1-2.25-2.25V6.75A2.25 2.25 0 0 1 6 4.5h.75V3a.75.75 0 0 1 .75-.75h9Zm-7.5 2.25h6v.75a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.75ZM12 10.5a2.25 2.25 0 0 1 2.25 2.25A2.25 2.25 0 0 1 12 15h-.75v1.5h1.5a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75V15a.75.75 0 0 1 .75-.75H12a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 1 0-1.5H12Z",clipRule:"evenodd"})})]})]}),E.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-[#142323]",children:["Email",E.jsx("input",{type:"email",name:"email",value:n.email,onChange:g,placeholder:"Enter your registered email",required:!0,className:"rounded-xl border border-[#db2b2b]/15 bg-white px-4 py-3 text-base text-[#142323] placeholder:text-[#142323]/40 focus:border-[#db2b2b] focus:outline-none focus:ring-2 focus:ring-[#db2b2b]/30 transition"})]}),o&&E.jsx("div",{className:"rounded-xl border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-700 leading-relaxed",children:E.jsxs("div",{className:"flex items-start gap-2",children:[E.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),E.jsx("span",{className:"flex-1",children:o})]})}),E.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-[#142323]",children:["Password",E.jsx("input",{type:"password",name:"password",value:n.password,onChange:g,placeholder:"Enter your password",required:!0,className:"rounded-xl border border-[#db2b2b]/15 bg-white px-4 py-3 text-base text-[#142323] placeholder:text-[#142323]/40 focus:border-[#db2b2b] focus:outline-none focus:ring-2 focus:ring-[#db2b2b]/30 transition"})]}),E.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E.jsxs("label",{className:"inline-flex items-center gap-2 text-[#142323]/70",children:[E.jsx("input",{type:"checkbox",name:"remember",checked:n.remember,onChange:g,className:"rounded border-[#db2b2b]/20 text-[#db2b2b] focus:ring-[#db2b2b]/40"}),"Keep me logged in"]}),E.jsx("a",{href:"#",className:"text-[#db2b2b] font-medium hover:underline",children:"Forgot password?"})]}),E.jsx("button",{type:"submit",disabled:f,className:"w-full inline-flex justify-center items-center gap-2 px-6 py-3.5 rounded-2xl bg-[#db2b2b] text-white font-semibold text-base shadow-lg shadow-[#db2b2b]/30 hover:-translate-y-0.5 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:f?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):E.jsxs(E.Fragment,{children:["Access Dashboard",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12m-19.5 0l8.954 8.955c.44.439 1.152.439 1.591 0L21.75 12m-19.5 0h19.5"})})]})}),E.jsxs("div",{className:"space-y-4 text-sm text-[#142323]/70",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-[#db2b2b]/20 to-transparent"}),"Or continue with",E.jsx("span",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-[#db2b2b]/20 to-transparent"})]}),E.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[E.jsxs("button",{type:"button",className:"flex items-center justify-center gap-3 px-4 py-2.5 rounded-xl border border-[#db2b2b]/15 bg-white text-[#142323]/80 hover:border-[#db2b2b]/40 transition",children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),E.jsxs("button",{type:"button",className:"flex items-center justify-center gap-3 px-4 py-2.5 rounded-xl border border-[#db2b2b]/15 bg-white text-[#142323]/80 hover:border-[#db2b2b]/40 transition",children:[E.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),E.jsxs("p",{className:"text-sm text-center text-[#142323]/70",children:["New to veinsofDrop? ",E.jsx(gn,{to:"/register",className:"text-[#db2b2b] font-medium hover:underline",children:"Create an account"})]})]})]})}),E.jsx("footer",{className:"relative z-10 px-6 pb-10",children:E.jsxs("div",{className:"max-w-6xl mx-auto text-sm text-[#142323]/60 flex flex-wrap items-center justify-between gap-4",children:[E.jsxs("p",{children:[" ",new Date().getFullYear()," veinsofDrop. Empowering every heartbeat."]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("a",{href:"#",className:"hover:underline",children:"Terms"}),E.jsx("a",{href:"#",className:"hover:underline",children:"Privacy"})]})]})})]})}function _4(){const r=eu(),{currentUser:e}=$h(),[n,s]=Ve.useState({email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[o,u]=Ve.useState(""),[f,m]=Ve.useState(!1);Ve.useEffect(()=>{e&&r("/")},[e,r]);const g=b=>{const{name:w,value:I,type:U,checked:K}=b.target;s(Z=>({...Z,[w]:U==="checkbox"?K:I})),o&&u("")},y=async b=>{if(b.preventDefault(),u(""),n.password!==n.confirmPassword){u("Passwords do not match.");return}if(n.password.length<6){u("Password must be at least 6 characters long.");return}if(!n.agreeToTerms){u("Please agree to the terms and conditions.");return}m(!0);try{const w=await kx(Jl,n.email,n.password);console.log("User registered successfully:",w.user.email),r("/")}catch(w){switch(w.code){case"auth/email-already-in-use":u("An account with this email already exists. Please try logging in instead.");break;case"auth/invalid-email":u("Invalid email address format. Please check your email and try again.");break;case"auth/operation-not-allowed":u("Email/Password authentication is not enabled in Firebase Console. Please enable it: 1) Go to Firebase Console  2) Select your project  3) Click Authentication  4) Go to Sign-in method tab  5) Click Email/Password  6) Enable it  7) Click Save"),console.warn("Email/Password authentication not enabled in Firebase Console");break;case"auth/weak-password":u("Password is too weak. Please choose a stronger password (at least 6 characters).");break;case"auth/network-request-failed":u("Network error. Please check your internet connection and try again.");break;default:w.message&&(w.message.includes("network")||w.message.includes("ERR_CONNECTION"))?(u("Connection error. Please check: 1) Email/Password is enabled in Firebase Console (Authentication  Sign-in method  Email/Password), 2) Your internet connection, 3) Try again in a few moments."),console.warn("Network error during registration:",w.message)):w.code==="auth/operation-not-allowed"?(u("Email/Password authentication is not enabled. Please enable it in Firebase Console."),console.warn("Email/Password authentication not enabled")):(console.error("Unexpected registration error:",w),u(`Failed to create account. ${w.message||"Please try again or contact support."}`))}}finally{m(!1)}};return E.jsxs("div",{className:"min-h-screen relative bg-[#f8fafa] text-[#244141]",children:[E.jsxs("div",{className:"fixed inset-0 overflow-hidden z-0","aria-hidden":"true",children:[E.jsx("div",{className:"absolute w-[60vmax] h-[60vmax] rounded-full blur-[80px] opacity-60 plasma-gradient-bg-2",style:{background:"radial-gradient(circle at center, rgba(255, 229, 229, 0.7), rgba(219, 43, 43, 0.35), rgba(36, 65, 65, 0.65))",top:"-18vmax",right:"-12vmax"}}),E.jsx("div",{className:"absolute w-[60vmax] h-[60vmax] rounded-full blur-[80px] opacity-60 plasma-gradient-bg-1",style:{background:"radial-gradient(circle at center, rgba(219, 43, 43, 0.55), rgba(71, 2, 23, 0.85))",bottom:"-20vmax",left:"-20vmax"}})]}),E.jsx("div",{className:"fixed inset-0 opacity-70 pointer-events-none z-0",style:{backgroundImage:`
            linear-gradient(rgba(219, 43, 43, 0.08) 1px, transparent 1px),
            linear-gradient(90deg, rgba(219, 43, 43, 0.06) 1px, transparent 1px)
          `,backgroundSize:"80px 80px",maskImage:"radial-gradient(circle at center, rgba(0,0,0,0.7), rgba(0,0,0,0))"},"aria-hidden":"true"}),E.jsx("header",{className:"relative z-10",children:E.jsxs("nav",{className:"max-w-6xl mx-auto px-6 py-6 flex items-center justify-between",children:[E.jsxs(gn,{to:"/",className:"flex items-center gap-3 text-[#142323] font-semibold tracking-wide hover:opacity-80 transition-opacity",children:[E.jsx("img",{src:"/assets/logo.png",alt:"veinsofDrop",className:"w-11 h-11 rounded-xl shadow-lg shadow-[#db2b2b]/20"}),E.jsx("span",{children:"veinsofDrop"})]}),E.jsxs(gn,{to:"/login",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-white/80 text-[#db2b2b] font-medium shadow-lg shadow-[#db2b2b]/10 hover:-translate-y-0.5 transition-transform",children:["Sign in",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]})]})}),E.jsx("main",{className:"relative z-10 max-w-6xl mx-auto px-6 pb-16",children:E.jsxs("section",{className:"grid gap-12 lg:grid-cols-[1.05fr_1fr] items-center min-h-[calc(100vh-200px)]",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-white/80 text-[#db2b2b] text-sm font-medium shadow shadow-[#db2b2b]/10",children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-[#db2b2b] animate-ping"}),"Join the mission"]}),E.jsx("h1",{className:"text-4xl sm:text-5xl font-semibold leading-tight text-[#142323]",children:"Become a donor and save lives in your community."}),E.jsx("p",{className:"text-lg text-[#142323]/75 max-w-2xl",children:"Register now to connect with hospitals and families in need. Your blood donation can make the difference between life and death. Join thousands of heroes making an impact every day."}),E.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[E.jsxs("div",{className:"bg-white/70 border border-white/60 rounded-3xl p-6 shadow-[0_30px_60px_-35px_rgba(20,35,35,0.6)] float-animation backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-11 h-11 rounded-full bg-[#db2b2b]/10 grid place-items-center text-[#db2b2b] font-semibold",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:"Save Lives"}),E.jsx("p",{className:"text-xs text-[#142323]/60",children:"Make a real impact"})]})]}),E.jsx("p",{className:"text-sm text-[#142323]/70",children:"Every donation can save up to 3 lives. Join our community of lifesavers."})]}),E.jsxs("div",{className:"bg-white/70 border border-white/60 rounded-3xl p-6 shadow-[0_30px_60px_-35px_rgba(20,35,35,0.6)] float-animation-delayed backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-11 h-11 rounded-full bg-[#db2b2b]/10 grid place-items-center text-[#db2b2b] font-semibold",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:"Secure & Safe"}),E.jsx("p",{className:"text-xs text-[#142323]/60",children:"Your data protected"})]})]}),E.jsx("p",{className:"text-sm text-[#142323]/70",children:"Your information is encrypted and secure. We prioritize your privacy."})]})]})]}),E.jsxs("form",{onSubmit:y,className:"relative bg-white/80 border border-white/70 rounded-3xl shadow-[0_38px_80px_-35px_rgba(219,43,43,0.55)] p-8 space-y-6 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-2xl font-semibold text-[#142323]",children:"Create account"}),E.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#db2b2b]/10 text-[#db2b2b] text-xs font-medium",children:["Join Us",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"})})]})]}),E.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-[#142323]",children:["Email",E.jsx("input",{type:"email",name:"email",value:n.email,onChange:g,placeholder:"Enter your email address",required:!0,className:"rounded-xl border border-[#db2b2b]/15 bg-white px-4 py-3 text-base text-[#142323] placeholder:text-[#142323]/40 focus:border-[#db2b2b] focus:outline-none focus:ring-2 focus:ring-[#db2b2b]/30 transition"})]}),E.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-[#142323]",children:["Password",E.jsx("input",{type:"password",name:"password",value:n.password,onChange:g,placeholder:"Create a password (min. 6 characters)",required:!0,minLength:6,className:"rounded-xl border border-[#db2b2b]/15 bg-white px-4 py-3 text-base text-[#142323] placeholder:text-[#142323]/40 focus:border-[#db2b2b] focus:outline-none focus:ring-2 focus:ring-[#db2b2b]/30 transition"})]}),E.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-[#142323]",children:["Confirm Password",E.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:g,placeholder:"Confirm your password",required:!0,className:"rounded-xl border border-[#db2b2b]/15 bg-white px-4 py-3 text-base text-[#142323] placeholder:text-[#142323]/40 focus:border-[#db2b2b] focus:outline-none focus:ring-2 focus:ring-[#db2b2b]/30 transition"})]}),o&&E.jsx("div",{className:"rounded-xl border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-700 leading-relaxed",children:E.jsxs("div",{className:"flex items-start gap-2",children:[E.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),E.jsx("span",{className:"flex-1",children:o})]})}),E.jsxs("label",{className:"inline-flex items-start gap-2 text-sm text-[#142323]/70",children:[E.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:n.agreeToTerms,onChange:g,required:!0,className:"mt-1 rounded border-[#db2b2b]/20 text-[#db2b2b] focus:ring-[#db2b2b]/40"}),E.jsxs("span",{children:["I agree to the ",E.jsx("a",{href:"#",className:"text-[#db2b2b] font-medium hover:underline",children:"Terms and Conditions"})," and ",E.jsx("a",{href:"#",className:"text-[#db2b2b] font-medium hover:underline",children:"Privacy Policy"})]})]}),E.jsx("button",{type:"submit",disabled:f,className:"w-full inline-flex justify-center items-center gap-2 px-6 py-3.5 rounded-2xl bg-[#db2b2b] text-white font-semibold text-base shadow-lg shadow-[#db2b2b]/30 hover:-translate-y-0.5 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:f?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):E.jsxs(E.Fragment,{children:["Create Account",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]})}),E.jsxs("p",{className:"text-sm text-center text-[#142323]/70",children:["Already have an account? ",E.jsx(gn,{to:"/login",className:"text-[#db2b2b] font-medium hover:underline",children:"Sign in"})]})]})]})}),E.jsx("footer",{className:"relative z-10 px-6 pb-10",children:E.jsxs("div",{className:"max-w-6xl mx-auto text-sm text-[#142323]/60 flex flex-wrap items-center justify-between gap-4",children:[E.jsxs("p",{children:[" ",new Date().getFullYear()," veinsofDrop. Empowering every heartbeat."]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("a",{href:"#",className:"hover:underline",children:"Terms"}),E.jsx("a",{href:"#",className:"hover:underline",children:"Privacy"})]})]})})]})}function v4(){const{currentUser:r,signOut:e}=$h(),n=eu(),[s,o]=Ve.useState(""),[u,f]=Ve.useState(""),[m,g]=Ve.useState(!1),[y,b]=Ve.useState(!0),[w,I]=Ve.useState({name:"",phone:"",bloodType:"",location:""});Ve.useEffect(()=>{(async()=>{if(!r){n("/login");return}try{const $=Gm(Za,"users",r.uid),re=await c4($);re.exists()&&I(re.data())}catch($){console.error("Error loading profile:",$),o("Failed to load profile data")}finally{b(!1)}})()},[r,n]);const U=F=>{const{name:$,value:re}=F.target;I(ae=>({...ae,[$]:re})),s&&o("")},K=async F=>{F.preventDefault(),o(""),f(""),g(!0);try{if(!r)throw new Error("User not authenticated");const $=Gm(Za,"users",r.uid);await f4($,{...w,email:r.email,updatedAt:new Date().toISOString()},{merge:!0}),f("Profile updated successfully!")}catch($){console.error("Error updating profile:",$),o($.message||"Failed to update profile")}finally{g(!1)}},Z=async()=>{(await e()).success&&n("/login")};return y?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#e6fffb]",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#db2b2b]"}),E.jsx("p",{className:"mt-4 text-[#142323]",children:"Loading profile..."})]})}):E.jsxs("div",{className:"min-h-screen bg-[#e6fffb]",children:[E.jsx("header",{className:"bg-gradient-to-r from-[rgb(191,203,203)] to-[rgb(219,43,43)] text-white",children:E.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 flex items-center justify-between py-3",children:[E.jsx(gn,{to:"/",className:"flex items-center gap-3",children:E.jsx("img",{src:"/assets/logo.png",alt:"veinsofDrop logo",className:"h-11 w-auto block rounded-md"})}),E.jsx("button",{onClick:Z,className:"px-4 py-2 rounded-lg bg-white text-[#db2b2b] font-semibold shadow-md hover:shadow-lg transition-transform transform hover:-translate-y-0.5",children:"Logout"})]})}),E.jsx("main",{className:"max-w-[1400px] mx-auto px-4 py-10",children:E.jsxs("div",{className:"bg-white/60 p-7 rounded-lg shadow-sm",children:[E.jsx("h2",{className:"text-2xl font-bold text-[#142323] mb-6",children:"Profile Settings"}),s&&E.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:s}),u&&E.jsx("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:u}),E.jsxs("form",{onSubmit:K,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),E.jsx("input",{type:"email",value:r?.email||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),E.jsx("input",{type:"text",name:"name",value:w.name,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your full name"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),E.jsx("input",{type:"tel",name:"phone",value:w.phone,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your phone number"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type"}),E.jsxs("select",{name:"bloodType",value:w.bloodType,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",children:[E.jsx("option",{value:"",children:"Select blood type"}),E.jsx("option",{value:"A+",children:"A+"}),E.jsx("option",{value:"A-",children:"A-"}),E.jsx("option",{value:"B+",children:"B+"}),E.jsx("option",{value:"B-",children:"B-"}),E.jsx("option",{value:"AB+",children:"AB+"}),E.jsx("option",{value:"AB-",children:"AB-"}),E.jsx("option",{value:"O+",children:"O+"}),E.jsx("option",{value:"O-",children:"O-"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),E.jsx("input",{type:"text",name:"location",value:w.location,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#db2b2b] focus:border-transparent",placeholder:"Enter your city"})]}),E.jsxs("div",{className:"flex gap-3 pt-4",children:[E.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-[#db2b2b] text-white rounded-lg font-semibold hover:bg-[#c02525] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Save Profile"}),E.jsx(gn,{to:"/",className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}),E.jsx("footer",{className:"bg-[#f1f7f7] py-4 mt-8 border-t border-black/5",children:E.jsx("div",{className:"max-w-[1400px] mx-auto px-4 text-[#053c3c] text-center",children:E.jsxs("p",{children:[" ",E.jsx("span",{children:new Date().getFullYear()})," Footer"]})})})]})}function E4(){return console.log("Firebase app initialized:",Up),E.jsx(Gw,{children:E.jsx(p4,{children:E.jsxs(Tw,{children:[E.jsx(Cl,{path:"/",element:E.jsx(g4,{})}),E.jsx(Cl,{path:"/login",element:E.jsx(y4,{})}),E.jsx(Cl,{path:"/register",element:E.jsx(_4,{})}),E.jsx(Cl,{path:"/profile",element:E.jsx(v4,{})})]})})})}NS.createRoot(document.getElementById("root")).render(E.jsx(TS.StrictMode,{children:E.jsx(E4,{})}));
